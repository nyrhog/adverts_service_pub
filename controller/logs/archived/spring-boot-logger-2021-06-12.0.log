2021-06-12 08:47:46,250 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.AdvertControllerTest], using SpringBootContextLoader
2021-06-12 08:47:46,277 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.AdvertControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 08:47:46,501 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 08:47:46,518 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@13216c21, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@14c0fe51, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@4619e07c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@137c1d38, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@b242b12, org.springframework.test.context.support.DirtiesContextTestExecutionListener@18057e51, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1196772d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@62703dfa, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@48a6f61d, org.springframework.test.context.event.EventPublishingTestExecutionListener@7be2eeae, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@596fd1e0, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@3a13b8da, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@45fab79b, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2901a614, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@e468205, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@29343e7f, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@396202ad]
2021-06-12 08:47:46,830 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 08:47:46,851 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting AdvertControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 18740 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 08:47:46,851 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 08:47:46,854 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 08:47:47,563 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 08:47:47,639 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 68 ms. Found 10 JPA repository interfaces.
2021-06-12 08:47:47,975 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@372212fe' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 08:47:47,992 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 08:47:48,241 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 08:47:48,352 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 08:47:48,502 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 08:47:48,622 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 08:47:48,790 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 08:47:48,809 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 08:47:49,549 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 08:47:49,556 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 08:47:50,315 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 08:47:51,271 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3034e65f, org.springframework.security.web.context.SecurityContextPersistenceFilter@36e869c5, org.springframework.security.web.header.HeaderWriterFilter@1b835037, org.springframework.security.web.authentication.logout.LogoutFilter@2eb9614, com.project.jwt.JwtTokenFilter@542c6da6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@59a165b9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@24890023, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@507326b9, org.springframework.security.web.session.SessionManagementFilter@5ee0c6c5, org.springframework.security.web.access.ExceptionTranslationFilter@4ce955d1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7d8b0166]
2021-06-12 08:47:51,353 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 08:47:51,353 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 08:47:51,355 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 2 ms
2021-06-12 08:47:51,370 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started AdvertControllerTest in 4.814 seconds (JVM running for 6.125)
2021-06-12 08:47:51,371 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 08:47:51,373 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 08:47:51,599 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 08:47:51,933 INFO com.project.service.AdvertService [Test worker] Commentary was deleted
2021-06-12 09:15:47,089 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.AdvertControllerTest], using SpringBootContextLoader
2021-06-12 09:15:47,094 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.AdvertControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 09:15:47,216 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 09:15:47,228 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4d04e123, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@61300fb1, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@603a8636, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2cd56662, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@46b28722, org.springframework.test.context.support.DirtiesContextTestExecutionListener@271e55c2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@13216c21, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@14c0fe51, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@4619e07c, org.springframework.test.context.event.EventPublishingTestExecutionListener@137c1d38, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@b242b12, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@18057e51, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1196772d, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@62703dfa, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@48a6f61d, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@7be2eeae, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@596fd1e0]
2021-06-12 09:15:47,425 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 09:15:47,434 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting AdvertControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 18228 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 09:15:47,435 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 09:15:47,436 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 09:15:47,971 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 09:15:48,045 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 67 ms. Found 10 JPA repository interfaces.
2021-06-12 09:15:48,337 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@94d93f0' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 09:15:48,352 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 09:15:48,504 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 09:15:48,547 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 09:15:48,645 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 09:15:48,723 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 09:15:48,846 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 09:15:48,859 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 09:15:49,506 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 09:15:49,513 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 09:15:50,091 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 09:15:50,885 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3ee534e0, org.springframework.security.web.context.SecurityContextPersistenceFilter@7fddb3e9, org.springframework.security.web.header.HeaderWriterFilter@5f5d504f, org.springframework.security.web.authentication.logout.LogoutFilter@7715b399, com.project.jwt.JwtTokenFilter@16c7f2e9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3002f44e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@29e74bca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2b45767d, org.springframework.security.web.session.SessionManagementFilter@1e08a0e3, org.springframework.security.web.access.ExceptionTranslationFilter@7e79df93, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7a5fc257]
2021-06-12 09:15:50,952 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 09:15:50,952 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 09:15:50,954 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 1 ms
2021-06-12 09:15:50,978 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started AdvertControllerTest in 3.727 seconds (JVM running for 4.676)
2021-06-12 09:15:50,980 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 09:15:50,982 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 09:15:51,154 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 09:16:09,254 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.AdvertControllerTest], using SpringBootContextLoader
2021-06-12 09:16:09,259 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.AdvertControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 09:16:09,368 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 09:16:09,380 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4d04e123, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@61300fb1, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@603a8636, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2cd56662, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@46b28722, org.springframework.test.context.support.DirtiesContextTestExecutionListener@271e55c2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@13216c21, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@14c0fe51, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@4619e07c, org.springframework.test.context.event.EventPublishingTestExecutionListener@137c1d38, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@b242b12, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@18057e51, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1196772d, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@62703dfa, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@48a6f61d, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@7be2eeae, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@596fd1e0]
2021-06-12 09:16:09,578 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 09:16:09,586 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting AdvertControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 10348 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 09:16:09,587 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 09:16:09,588 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 09:16:10,157 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 09:16:10,229 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 66 ms. Found 10 JPA repository interfaces.
2021-06-12 09:16:10,514 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@15931966' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 09:16:10,531 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 09:16:10,688 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 09:16:10,724 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 09:16:10,827 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 09:16:10,904 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 09:16:11,044 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 09:16:11,071 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 09:16:11,836 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 09:16:11,842 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 09:16:12,524 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 09:16:13,508 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@26d745e5, org.springframework.security.web.context.SecurityContextPersistenceFilter@1f3bee26, org.springframework.security.web.header.HeaderWriterFilter@24890023, org.springframework.security.web.authentication.logout.LogoutFilter@30cbf287, com.project.jwt.JwtTokenFilter@4465d986, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ce08e4b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@e8aaacd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@75a4e139, org.springframework.security.web.session.SessionManagementFilter@2239050, org.springframework.security.web.access.ExceptionTranslationFilter@5fabef8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@67d09a37]
2021-06-12 09:16:13,576 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 09:16:13,577 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 09:16:13,578 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 1 ms
2021-06-12 09:16:13,593 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started AdvertControllerTest in 4.188 seconds (JVM running for 5.11)
2021-06-12 09:16:13,594 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 09:16:13,596 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 09:16:13,765 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 09:16:13,945 INFO com.project.service.AdvertService [Test worker] Advert was got with id: 1
2021-06-12 09:22:34,376 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.AdvertControllerTest], using SpringBootContextLoader
2021-06-12 09:22:34,382 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.AdvertControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 09:22:34,499 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 09:22:34,512 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4d04e123, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@61300fb1, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@603a8636, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2cd56662, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@46b28722, org.springframework.test.context.support.DirtiesContextTestExecutionListener@271e55c2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@13216c21, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@14c0fe51, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@4619e07c, org.springframework.test.context.event.EventPublishingTestExecutionListener@137c1d38, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@b242b12, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@18057e51, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1196772d, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@62703dfa, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@48a6f61d, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@7be2eeae, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@596fd1e0]
2021-06-12 09:22:34,714 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 09:22:34,722 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting AdvertControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 676 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 09:22:34,723 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 09:22:34,726 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 09:22:35,282 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 09:22:35,355 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 67 ms. Found 10 JPA repository interfaces.
2021-06-12 09:22:35,634 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@3ae16a40' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 09:22:35,651 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 09:22:35,803 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 09:22:35,848 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 09:22:35,945 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 09:22:36,021 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 09:22:36,138 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 09:22:36,153 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 09:22:36,775 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 09:22:36,782 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 09:22:37,380 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 09:22:38,196 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2d7626cf, org.springframework.security.web.context.SecurityContextPersistenceFilter@58523e97, org.springframework.security.web.header.HeaderWriterFilter@f081b86, org.springframework.security.web.authentication.logout.LogoutFilter@2f21aff0, com.project.jwt.JwtTokenFilter@2dcdf05b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@48a59a17, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@524be988, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5947d1ad, org.springframework.security.web.session.SessionManagementFilter@1adf5f0f, org.springframework.security.web.access.ExceptionTranslationFilter@3002f44e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@26d745e5]
2021-06-12 09:22:38,264 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 09:22:38,264 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 09:22:38,265 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 1 ms
2021-06-12 09:22:38,278 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started AdvertControllerTest in 3.744 seconds (JVM running for 4.631)
2021-06-12 09:22:38,279 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 09:22:38,282 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 09:22:38,508 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 09:22:38,687 INFO com.project.service.AdvertService [Test worker] Advert was got with id: 1
2021-06-12 15:15:41,132 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.ProfileControllerTest], using SpringBootContextLoader
2021-06-12 15:15:41,158 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.ProfileControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 15:15:41,263 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 15:15:41,274 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@78753dce, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@69f9a1e7, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@7a0f6600, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@494c9772, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@188658d8, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3cd424b6, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3dea7a4a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@10b08d82, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3a5a47d4, org.springframework.test.context.event.EventPublishingTestExecutionListener@273625bd, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4960233b, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5da87b08, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3524e38e, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2329335a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6b98b5ff, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@7576e3bf, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@675c460c]
2021-06-12 15:15:41,452 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 15:15:41,464 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting ProfileControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 3620 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 15:15:41,464 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 15:15:41,466 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 15:15:41,986 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 15:15:42,053 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 60 ms. Found 10 JPA repository interfaces.
2021-06-12 15:15:42,367 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@79c6b487' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 15:15:42,413 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 15:15:42,611 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 15:15:42,654 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 15:15:42,746 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 15:15:42,819 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 15:15:42,929 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 15:15:42,943 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 15:15:43,522 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 15:15:43,528 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 15:15:44,083 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 15:15:44,814 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@72d1f79e, org.springframework.security.web.context.SecurityContextPersistenceFilter@650aba62, org.springframework.security.web.header.HeaderWriterFilter@6436c546, org.springframework.security.web.authentication.logout.LogoutFilter@2662b67b, com.project.jwt.JwtTokenFilter@797e65f8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@23f7c473, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1c652a99, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5a5b26b6, org.springframework.security.web.session.SessionManagementFilter@6dd7945a, org.springframework.security.web.access.ExceptionTranslationFilter@31eff969, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3b6ca2c7]
2021-06-12 15:15:44,875 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 15:15:44,875 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 15:15:44,876 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 1 ms
2021-06-12 15:15:44,889 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started ProfileControllerTest in 3.594 seconds (JVM running for 4.411)
2021-06-12 15:15:44,891 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 15:15:44,892 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 15:15:45,061 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 15:15:45,243 ERROR com.project.exceptionHandler.ExceptionHandlerClass [Test worker] Access is denied
2021-06-12 15:17:01,652 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.AdvertControllerTest], using SpringBootContextLoader
2021-06-12 15:17:01,656 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.AdvertControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 15:17:01,757 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 15:17:01,769 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@70a659a5, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4026bf1b, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@7ef4592e, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@13488fd6, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5161876b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@244a243b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@78ab34b5, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2f4a2249, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@72cda214, org.springframework.test.context.event.EventPublishingTestExecutionListener@7d32b8a, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@267ca959, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@585a9fb5, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@47184ba8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@5989a7ba, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@1a7cebb3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@1657787e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@13172417]
2021-06-12 15:17:01,946 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 15:17:01,960 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting AdvertControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 9316 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 15:17:01,960 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 15:17:01,961 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 15:17:02,481 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 15:17:02,552 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 65 ms. Found 10 JPA repository interfaces.
2021-06-12 15:17:02,825 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@33240c6f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 15:17:02,841 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 15:17:02,985 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 15:17:03,025 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 15:17:03,121 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 15:17:03,192 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 15:17:03,310 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 15:17:03,323 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 15:17:03,918 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 15:17:03,924 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 15:17:04,528 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 15:17:05,556 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@76249bec, org.springframework.security.web.context.SecurityContextPersistenceFilter@5b058c0b, org.springframework.security.web.header.HeaderWriterFilter@41098e8f, org.springframework.security.web.authentication.logout.LogoutFilter@7f6d3e6c, com.project.jwt.JwtTokenFilter@6abf7291, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@31eff969, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@b61187a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@438633e7, org.springframework.security.web.session.SessionManagementFilter@7e64516d, org.springframework.security.web.access.ExceptionTranslationFilter@756bf350, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@987565d]
2021-06-12 15:17:05,626 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 15:17:05,626 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 15:17:05,627 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 1 ms
2021-06-12 15:17:05,642 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started AdvertControllerTest in 3.851 seconds (JVM running for 4.672)
2021-06-12 15:17:05,643 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 15:17:05,645 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 15:17:05,821 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 15:17:06,054 INFO com.project.service.AdvertService [Test worker] Advert was deleted
2021-06-12 15:17:28,291 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.ProfileControllerTest], using SpringBootContextLoader
2021-06-12 15:17:28,295 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.ProfileControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 15:17:28,404 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 15:17:28,417 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2426f40f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@598934c4, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6b3e4a92, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@13405e62, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@555689, org.springframework.test.context.support.DirtiesContextTestExecutionListener@10ea7d53, org.springframework.test.context.transaction.TransactionalTestExecutionListener@919cf06, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@18bb2309, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3270cf89, org.springframework.test.context.event.EventPublishingTestExecutionListener@71333c71, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@3615bcae, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@77f7620e, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@43cff7fe, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2b778b42, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@309ca24e, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@7c374141, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@40fb293e]
2021-06-12 15:17:28,615 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 15:17:28,624 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting ProfileControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 9928 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 15:17:28,624 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 15:17:28,626 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 15:17:29,237 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 15:17:29,323 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 79 ms. Found 10 JPA repository interfaces.
2021-06-12 15:17:29,667 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7dc990fe' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 15:17:29,687 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 15:17:29,847 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 15:17:29,887 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 15:17:29,977 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 15:17:30,052 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 15:17:30,167 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 15:17:30,179 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 15:17:30,833 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 15:17:30,840 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 15:17:31,419 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 15:17:32,207 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3a444464, org.springframework.security.web.context.SecurityContextPersistenceFilter@417a8b6c, org.springframework.security.web.header.HeaderWriterFilter@4ce955d1, org.springframework.security.web.authentication.logout.LogoutFilter@39f1fb0a, com.project.jwt.JwtTokenFilter@6f99ade3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@41044c74, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5fabef8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@50334249, org.springframework.security.web.session.SessionManagementFilter@2ab5d402, org.springframework.security.web.access.ExceptionTranslationFilter@57060666, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6dc22034]
2021-06-12 15:17:32,269 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 15:17:32,269 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 15:17:32,271 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 1 ms
2021-06-12 15:17:32,286 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started ProfileControllerTest in 3.842 seconds (JVM running for 4.767)
2021-06-12 15:17:32,287 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 15:17:32,289 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 15:17:32,444 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 15:17:32,627 ERROR com.project.exceptionHandler.ExceptionHandlerClass [Test worker] Access is denied
2021-06-12 15:20:25,473 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.ProfileControllerTest], using SpringBootContextLoader
2021-06-12 15:20:25,477 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.ProfileControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 15:20:25,580 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 15:20:25,592 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2426f40f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@598934c4, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6b3e4a92, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@13405e62, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@555689, org.springframework.test.context.support.DirtiesContextTestExecutionListener@10ea7d53, org.springframework.test.context.transaction.TransactionalTestExecutionListener@919cf06, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@18bb2309, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3270cf89, org.springframework.test.context.event.EventPublishingTestExecutionListener@71333c71, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@3615bcae, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@77f7620e, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@43cff7fe, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2b778b42, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@309ca24e, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@7c374141, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@40fb293e]
2021-06-12 15:20:25,807 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 15:20:25,817 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting ProfileControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 7344 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 15:20:25,817 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 15:20:25,819 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 15:20:26,339 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 15:20:26,403 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 58 ms. Found 10 JPA repository interfaces.
2021-06-12 15:20:26,664 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7dc990fe' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 15:20:26,677 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 15:20:26,822 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 15:20:26,862 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 15:20:26,950 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 15:20:27,023 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 15:20:27,138 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 15:20:27,148 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 15:20:27,742 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 15:20:27,750 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 15:20:28,314 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 15:20:29,077 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@67d09a37, org.springframework.security.web.context.SecurityContextPersistenceFilter@3ed84807, org.springframework.security.web.header.HeaderWriterFilter@54b09ed3, org.springframework.security.web.authentication.logout.LogoutFilter@4f4c737c, com.project.jwt.JwtTokenFilter@6d528688, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f081b86, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@59d0e86c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b56f457, org.springframework.security.web.session.SessionManagementFilter@5ce66fe9, org.springframework.security.web.access.ExceptionTranslationFilter@5f5d504f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@745d1dd2]
2021-06-12 15:20:29,142 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 15:20:29,142 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 15:20:29,144 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 2 ms
2021-06-12 15:20:29,158 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started ProfileControllerTest in 3.542 seconds (JVM running for 4.348)
2021-06-12 15:20:29,159 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 15:20:29,161 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 15:20:29,325 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 15:20:29,504 ERROR com.project.exceptionHandler.ExceptionHandlerClass [Test worker] Access is denied
2021-06-12 15:26:01,018 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.ProfileControllerTest], using SpringBootContextLoader
2021-06-12 15:26:01,023 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.ProfileControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 15:26:01,132 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 15:26:01,143 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@78753dce, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@69f9a1e7, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@7a0f6600, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@494c9772, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@188658d8, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3cd424b6, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3dea7a4a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@10b08d82, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3a5a47d4, org.springframework.test.context.event.EventPublishingTestExecutionListener@273625bd, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4960233b, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5da87b08, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3524e38e, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2329335a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6b98b5ff, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@7576e3bf, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@675c460c]
2021-06-12 15:26:01,338 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 15:26:01,356 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting ProfileControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 13408 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 15:26:01,357 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 15:26:01,358 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 15:26:01,967 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 15:26:02,039 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 66 ms. Found 10 JPA repository interfaces.
2021-06-12 15:26:02,341 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@40e84705' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 15:26:02,355 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 15:26:02,500 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 15:26:02,540 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 15:26:02,631 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 15:26:02,710 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 15:26:02,825 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 15:26:02,838 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 15:26:03,482 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 15:26:03,489 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 15:26:04,060 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 15:26:04,783 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4af33f53, org.springframework.security.web.context.SecurityContextPersistenceFilter@37c74e2b, org.springframework.security.web.header.HeaderWriterFilter@3e949a7a, org.springframework.security.web.authentication.logout.LogoutFilter@333af91f, com.project.jwt.JwtTokenFilter@67c89d3a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@365027ed, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@629da6fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d41f330, org.springframework.security.web.session.SessionManagementFilter@58b963ed, org.springframework.security.web.access.ExceptionTranslationFilter@a7b3298, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@73d34e53]
2021-06-12 15:26:04,843 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 15:26:04,843 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 15:26:04,844 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 1 ms
2021-06-12 15:26:04,857 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started ProfileControllerTest in 3.693 seconds (JVM running for 4.539)
2021-06-12 15:26:04,858 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 15:26:04,859 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 15:26:05,018 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 15:29:43,912 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.ProfileControllerTest], using SpringBootContextLoader
2021-06-12 15:29:43,916 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.ProfileControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 15:29:44,012 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 15:29:44,023 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2426f40f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@598934c4, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6b3e4a92, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@13405e62, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@555689, org.springframework.test.context.support.DirtiesContextTestExecutionListener@10ea7d53, org.springframework.test.context.transaction.TransactionalTestExecutionListener@919cf06, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@18bb2309, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3270cf89, org.springframework.test.context.event.EventPublishingTestExecutionListener@71333c71, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@3615bcae, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@77f7620e, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@43cff7fe, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2b778b42, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@309ca24e, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@7c374141, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@40fb293e]
2021-06-12 15:29:44,198 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 15:29:44,211 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting ProfileControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 5824 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 15:29:44,211 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 15:29:44,213 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 15:29:44,690 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 15:29:44,752 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 56 ms. Found 10 JPA repository interfaces.
2021-06-12 15:29:44,999 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7dc990fe' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 15:29:45,013 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 15:29:45,151 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 15:29:45,190 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 15:29:45,277 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 15:29:45,347 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 15:29:45,457 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 15:29:45,470 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 15:29:46,090 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 15:29:46,096 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 15:29:46,663 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 15:29:47,436 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3723fc49, org.springframework.security.web.context.SecurityContextPersistenceFilter@1b835037, org.springframework.security.web.header.HeaderWriterFilter@4d80902e, org.springframework.security.web.authentication.logout.LogoutFilter@736cf210, com.project.jwt.JwtTokenFilter@6dc22034, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7e79df93, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4b5cdf5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@368244c1, org.springframework.security.web.session.SessionManagementFilter@3be5cde7, org.springframework.security.web.access.ExceptionTranslationFilter@ed19cdb, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@35a4dcd1]
2021-06-12 15:29:47,498 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 15:29:47,498 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 15:29:47,499 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 1 ms
2021-06-12 15:29:47,511 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started ProfileControllerTest in 3.467 seconds (JVM running for 4.22)
2021-06-12 15:29:47,512 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 15:29:47,513 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 15:29:47,676 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 15:29:47,853 ERROR com.project.exceptionHandler.ExceptionHandlerClass [Test worker] Access is denied
2021-06-12 15:30:34,381 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.ProfileControllerTest], using SpringBootContextLoader
2021-06-12 15:30:34,386 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.ProfileControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 15:30:34,499 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 15:30:34,512 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6f47f374, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1fc84007, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@50702d8, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@57b15bbd, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@73dde6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5a286ef4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6784a6ab, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3a357555, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@531212c1, org.springframework.test.context.event.EventPublishingTestExecutionListener@4ad48999, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@827df96, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@19a98c1a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5aee01f4, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3418d371, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@275610b, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@5769e403, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7da2aebb]
2021-06-12 15:30:34,697 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 15:30:34,708 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting ProfileControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 17464 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 15:30:34,709 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 15:30:34,710 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 15:30:35,237 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 15:30:35,310 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 66 ms. Found 10 JPA repository interfaces.
2021-06-12 15:30:35,593 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@6d12fde3' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 15:30:35,608 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 15:30:35,758 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 15:30:35,801 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 15:30:35,895 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 15:30:35,972 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 15:30:36,089 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 15:30:36,101 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 15:30:36,727 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 15:30:36,735 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 15:30:37,314 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 15:30:38,171 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b6ae74d, org.springframework.security.web.context.SecurityContextPersistenceFilter@64cca8ce, org.springframework.security.web.header.HeaderWriterFilter@6e139786, org.springframework.security.web.authentication.logout.LogoutFilter@264febb9, com.project.jwt.JwtTokenFilter@76e08839, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@586ad00c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e17d628, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@541f7929, org.springframework.security.web.session.SessionManagementFilter@409c4f18, org.springframework.security.web.access.ExceptionTranslationFilter@4d1d9e0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@49446eb]
2021-06-12 15:30:38,245 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 15:30:38,245 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 15:30:38,246 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 1 ms
2021-06-12 15:30:38,264 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started ProfileControllerTest in 3.726 seconds (JVM running for 4.952)
2021-06-12 15:30:38,266 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 15:30:38,267 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 15:30:38,454 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 15:31:14,290 ERROR com.project.exceptionHandler.ExceptionHandlerClass [Test worker] Access is denied
2021-06-12 15:34:45,257 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.ProfileControllerTest], using SpringBootContextLoader
2021-06-12 15:34:45,261 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.ProfileControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 15:34:45,360 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 15:34:45,371 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@78753dce, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@69f9a1e7, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@7a0f6600, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@494c9772, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@188658d8, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3cd424b6, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3dea7a4a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@10b08d82, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3a5a47d4, org.springframework.test.context.event.EventPublishingTestExecutionListener@273625bd, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4960233b, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5da87b08, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3524e38e, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2329335a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6b98b5ff, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@7576e3bf, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@675c460c]
2021-06-12 15:34:45,549 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 15:34:45,556 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting ProfileControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 16264 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 15:34:45,557 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 15:34:45,558 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 15:34:46,030 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 15:34:46,094 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 59 ms. Found 10 JPA repository interfaces.
2021-06-12 15:34:46,335 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@16d324f5' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 15:34:46,348 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 15:34:46,478 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 15:34:46,516 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 15:34:46,602 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 15:34:46,668 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 15:34:46,775 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 15:34:46,787 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 15:34:47,359 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 15:34:47,365 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 15:34:47,878 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 15:34:48,604 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a5e261b, org.springframework.security.web.context.SecurityContextPersistenceFilter@26e8ade5, org.springframework.security.web.header.HeaderWriterFilter@24f2e753, org.springframework.security.web.authentication.logout.LogoutFilter@1e861508, com.project.jwt.JwtTokenFilter@2de30697, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@467d4e8b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6436c546, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@47f8ae92, org.springframework.security.web.session.SessionManagementFilter@71c18a24, org.springframework.security.web.access.ExceptionTranslationFilter@74b8b345, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4285aa3b]
2021-06-12 15:34:48,666 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 15:34:48,666 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 15:34:48,667 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 1 ms
2021-06-12 15:34:48,680 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started ProfileControllerTest in 3.287 seconds (JVM running for 4.055)
2021-06-12 15:34:48,681 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 15:34:48,682 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 15:34:48,844 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 15:34:49,019 ERROR com.project.exceptionHandler.ExceptionHandlerClass [Test worker] Access is denied
2021-06-12 15:35:00,950 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.ProfileControllerTest], using SpringBootContextLoader
2021-06-12 15:35:00,954 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.ProfileControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 15:35:01,048 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 15:35:01,059 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@78753dce, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@69f9a1e7, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@7a0f6600, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@494c9772, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@188658d8, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3cd424b6, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3dea7a4a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@10b08d82, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3a5a47d4, org.springframework.test.context.event.EventPublishingTestExecutionListener@273625bd, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4960233b, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5da87b08, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3524e38e, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2329335a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6b98b5ff, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@7576e3bf, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@675c460c]
2021-06-12 15:35:01,223 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 15:35:01,232 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting ProfileControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 13276 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 15:35:01,235 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 15:35:01,236 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 15:35:01,707 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 15:35:01,770 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 59 ms. Found 10 JPA repository interfaces.
2021-06-12 15:35:02,024 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@2220df55' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 15:35:02,036 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 15:35:02,171 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 15:35:02,210 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 15:35:02,298 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 15:35:02,365 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 15:35:02,473 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 15:35:02,485 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 15:35:03,028 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 15:35:03,034 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 15:35:03,561 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 15:35:04,278 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4c9b1ab1, org.springframework.security.web.context.SecurityContextPersistenceFilter@692e9bf2, org.springframework.security.web.header.HeaderWriterFilter@3b6b811a, org.springframework.security.web.authentication.logout.LogoutFilter@5dba2cae, com.project.jwt.JwtTokenFilter@4e95b18e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6436c546, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@705352c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3b6ca2c7, org.springframework.security.web.session.SessionManagementFilter@4391845, org.springframework.security.web.access.ExceptionTranslationFilter@41098e8f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7e94885e]
2021-06-12 15:35:04,341 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 15:35:04,341 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 15:35:04,342 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 0 ms
2021-06-12 15:35:04,356 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started ProfileControllerTest in 3.275 seconds (JVM running for 4.068)
2021-06-12 15:35:04,357 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 15:35:04,358 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 15:35:04,520 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 15:35:04,703 ERROR com.project.exceptionHandler.ExceptionHandlerClass [Test worker] Access is denied
2021-06-12 15:35:51,703 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.AdvertControllerTest], using SpringBootContextLoader
2021-06-12 15:35:51,707 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.AdvertControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 15:35:51,806 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 15:35:51,818 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4d04e123, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@61300fb1, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@603a8636, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2cd56662, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@46b28722, org.springframework.test.context.support.DirtiesContextTestExecutionListener@271e55c2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@13216c21, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@14c0fe51, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@4619e07c, org.springframework.test.context.event.EventPublishingTestExecutionListener@137c1d38, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@b242b12, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@18057e51, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1196772d, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@62703dfa, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@48a6f61d, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@7be2eeae, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@596fd1e0]
2021-06-12 15:35:51,999 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 15:35:52,009 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting AdvertControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 11740 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 15:35:52,010 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 15:35:52,011 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 15:35:52,521 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 15:35:52,586 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 59 ms. Found 10 JPA repository interfaces.
2021-06-12 15:35:52,857 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@115ae45a' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 15:35:52,871 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 15:35:53,012 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 15:35:53,053 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 15:35:53,147 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 15:35:53,220 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 15:35:53,336 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 15:35:53,348 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 15:35:53,932 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 15:35:53,938 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 15:35:54,501 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 15:35:55,250 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@78534071, org.springframework.security.web.context.SecurityContextPersistenceFilter@4db86fb9, org.springframework.security.web.header.HeaderWriterFilter@1e08a0e3, org.springframework.security.web.authentication.logout.LogoutFilter@35a4dcd1, com.project.jwt.JwtTokenFilter@fb7c8e3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1f3bee26, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39f1fb0a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ca2c6b8, org.springframework.security.web.session.SessionManagementFilter@f081b86, org.springframework.security.web.access.ExceptionTranslationFilter@6ee65c32, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@590a604d]
2021-06-12 15:35:55,313 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 15:35:55,313 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 15:35:55,314 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 1 ms
2021-06-12 15:35:55,327 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started AdvertControllerTest in 3.487 seconds (JVM running for 4.35)
2021-06-12 15:35:55,328 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 15:35:55,330 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 15:35:55,500 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 15:35:55,687 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 15:35:55,785 INFO com.project.service.AdvertService [Test worker] Advert was updated
2021-06-12 15:49:33,337 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.ProfileControllerTest], using SpringBootContextLoader
2021-06-12 15:49:33,341 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.ProfileControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 15:49:33,441 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 15:49:33,452 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@78753dce, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@69f9a1e7, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@7a0f6600, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@494c9772, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@188658d8, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3cd424b6, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3dea7a4a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@10b08d82, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3a5a47d4, org.springframework.test.context.event.EventPublishingTestExecutionListener@273625bd, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4960233b, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5da87b08, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3524e38e, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2329335a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6b98b5ff, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@7576e3bf, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@675c460c]
2021-06-12 15:49:33,617 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 15:49:33,629 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting ProfileControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 4968 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 15:49:33,630 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 15:49:33,631 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 15:49:34,117 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 15:49:34,179 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 57 ms. Found 10 JPA repository interfaces.
2021-06-12 15:49:34,431 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@731da354' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 15:49:34,445 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 15:49:34,577 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 15:49:34,615 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 15:49:34,703 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 15:49:34,771 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 15:49:34,879 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 15:49:34,891 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 15:49:35,444 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 15:49:35,450 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 15:49:35,976 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 15:49:36,686 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@617ef502, org.springframework.security.web.context.SecurityContextPersistenceFilter@38571c7, org.springframework.security.web.header.HeaderWriterFilter@a7b3298, org.springframework.security.web.authentication.logout.LogoutFilter@75adc491, com.project.jwt.JwtTokenFilter@750e7579, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@692ad124, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@52b8064, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@466cc4cd, org.springframework.security.web.session.SessionManagementFilter@7be1e93, org.springframework.security.web.access.ExceptionTranslationFilter@1b09c82d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7605df8]
2021-06-12 15:49:36,745 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 15:49:36,746 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 15:49:36,747 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 1 ms
2021-06-12 15:49:36,762 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started ProfileControllerTest in 3.284 seconds (JVM running for 4.077)
2021-06-12 15:49:36,763 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 15:49:36,765 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 15:49:36,918 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 15:49:37,090 ERROR com.project.exceptionHandler.ExceptionHandlerClass [Test worker] The given id must not be null!; nested exception is java.lang.IllegalArgumentException: The given id must not be null!
2021-06-12 15:54:46,769 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.ProfileControllerTest], using SpringBootContextLoader
2021-06-12 15:54:46,776 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.ProfileControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 15:54:46,922 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 15:54:46,937 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6f47f374, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1fc84007, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@50702d8, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@57b15bbd, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@73dde6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5a286ef4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6784a6ab, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3a357555, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@531212c1, org.springframework.test.context.event.EventPublishingTestExecutionListener@4ad48999, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@827df96, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@19a98c1a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5aee01f4, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3418d371, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@275610b, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@5769e403, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7da2aebb]
2021-06-12 15:54:47,168 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 15:54:47,184 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting ProfileControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 11568 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 15:54:47,185 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 15:54:47,187 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 15:54:48,068 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 15:54:48,166 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 89 ms. Found 10 JPA repository interfaces.
2021-06-12 15:54:48,549 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@586dc36' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 15:54:48,570 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 15:54:48,770 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 15:54:48,822 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 15:54:48,939 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 15:54:49,076 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 15:54:49,232 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 15:54:49,250 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 15:54:50,276 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 15:54:50,283 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 15:54:51,085 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 15:54:52,034 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@61d674fc, org.springframework.security.web.context.SecurityContextPersistenceFilter@b8fefcb, org.springframework.security.web.header.HeaderWriterFilter@74bb4a00, org.springframework.security.web.authentication.logout.LogoutFilter@7b7a9067, com.project.jwt.JwtTokenFilter@2748a561, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@647666df, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@78c3f963, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1dfa6468, org.springframework.security.web.session.SessionManagementFilter@63e025bc, org.springframework.security.web.access.ExceptionTranslationFilter@6beb5363, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7ad6f066]
2021-06-12 15:54:52,122 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 15:54:52,123 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 15:54:52,124 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 1 ms
2021-06-12 15:54:52,150 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started ProfileControllerTest in 5.183 seconds (JVM running for 6.327)
2021-06-12 15:54:52,152 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 15:54:52,153 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 15:54:52,354 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 15:55:08,437 ERROR com.project.exceptionHandler.ExceptionHandlerClass [Test worker] The given id must not be null!; nested exception is java.lang.IllegalArgumentException: The given id must not be null!
2021-06-12 15:55:31,782 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.ProfileControllerTest], using SpringBootContextLoader
2021-06-12 15:55:31,787 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.ProfileControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 15:55:31,922 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 15:55:31,937 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6f47f374, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1fc84007, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@50702d8, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@57b15bbd, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@73dde6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5a286ef4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6784a6ab, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3a357555, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@531212c1, org.springframework.test.context.event.EventPublishingTestExecutionListener@4ad48999, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@827df96, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@19a98c1a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5aee01f4, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3418d371, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@275610b, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@5769e403, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7da2aebb]
2021-06-12 15:55:32,181 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 15:55:32,195 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting ProfileControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 14644 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 15:55:32,196 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 15:55:32,198 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 15:55:32,907 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 15:55:32,994 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 76 ms. Found 10 JPA repository interfaces.
2021-06-12 15:55:33,416 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@586dc36' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 15:55:33,437 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 15:55:33,636 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 15:55:33,687 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 15:55:33,799 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 15:55:33,893 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 15:55:34,028 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 15:55:34,043 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 15:55:34,908 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 15:55:34,921 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 15:55:35,843 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 15:55:37,021 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1fdb11, org.springframework.security.web.context.SecurityContextPersistenceFilter@4c5e3089, org.springframework.security.web.header.HeaderWriterFilter@6400045f, org.springframework.security.web.authentication.logout.LogoutFilter@4a1fb306, com.project.jwt.JwtTokenFilter@4b7aaba, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@795ad7df, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@599c151f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4de07e6f, org.springframework.security.web.session.SessionManagementFilter@61125add, org.springframework.security.web.access.ExceptionTranslationFilter@10f32c2d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@308b0813]
2021-06-12 15:55:37,110 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 15:55:37,112 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 15:55:37,113 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 1 ms
2021-06-12 15:55:37,136 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started ProfileControllerTest in 5.17 seconds (JVM running for 6.217)
2021-06-12 15:55:37,138 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 15:55:37,140 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 15:55:37,366 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 15:56:46,966 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.ProfileControllerTest], using SpringBootContextLoader
2021-06-12 15:56:46,972 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.ProfileControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 15:56:47,136 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 15:56:47,157 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6f47f374, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1fc84007, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@50702d8, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@57b15bbd, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@73dde6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5a286ef4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6784a6ab, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3a357555, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@531212c1, org.springframework.test.context.event.EventPublishingTestExecutionListener@4ad48999, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@827df96, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@19a98c1a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5aee01f4, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3418d371, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@275610b, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@5769e403, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7da2aebb]
2021-06-12 15:56:47,458 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 15:56:47,469 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting ProfileControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 4116 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 15:56:47,469 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 15:56:47,471 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 15:56:48,143 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 15:56:48,232 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 81 ms. Found 10 JPA repository interfaces.
2021-06-12 15:56:48,746 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@586dc36' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 15:56:48,766 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 15:56:48,992 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 15:56:49,058 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 15:56:49,215 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 15:56:49,314 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 15:56:49,462 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 15:56:49,478 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 15:56:50,387 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 15:56:50,393 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 15:56:51,282 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 15:56:52,675 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@533837e4, org.springframework.security.web.context.SecurityContextPersistenceFilter@21554b03, org.springframework.security.web.header.HeaderWriterFilter@620b425f, org.springframework.security.web.authentication.logout.LogoutFilter@792db461, com.project.jwt.JwtTokenFilter@302117f1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4c0b9b37, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@519a823b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12597eb7, org.springframework.security.web.session.SessionManagementFilter@3e17d628, org.springframework.security.web.access.ExceptionTranslationFilter@7048353d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@541f7929]
2021-06-12 15:56:52,818 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 15:56:52,818 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 15:56:52,820 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 1 ms
2021-06-12 15:56:52,838 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started ProfileControllerTest in 5.643 seconds (JVM running for 6.785)
2021-06-12 15:56:52,839 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 15:56:52,842 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 15:56:53,046 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 15:57:48,460 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.ProfileControllerTest], using SpringBootContextLoader
2021-06-12 15:57:48,466 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.ProfileControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 15:57:48,582 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 15:57:48,596 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2426f40f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@598934c4, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6b3e4a92, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@13405e62, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@555689, org.springframework.test.context.support.DirtiesContextTestExecutionListener@10ea7d53, org.springframework.test.context.transaction.TransactionalTestExecutionListener@919cf06, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@18bb2309, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3270cf89, org.springframework.test.context.event.EventPublishingTestExecutionListener@71333c71, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@3615bcae, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@77f7620e, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@43cff7fe, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2b778b42, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@309ca24e, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@7c374141, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@40fb293e]
2021-06-12 15:57:48,796 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 15:57:48,806 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting ProfileControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 17968 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 15:57:48,806 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 15:57:48,808 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 15:57:49,508 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 15:57:49,598 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 82 ms. Found 10 JPA repository interfaces.
2021-06-12 15:57:49,961 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@416ac5f7' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 15:57:49,977 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 15:57:50,157 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 15:57:50,204 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 15:57:50,311 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 15:57:50,392 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 15:57:50,541 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 15:57:50,553 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 15:57:51,273 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 15:57:51,279 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 15:57:52,019 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 15:57:52,958 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1d713b83, org.springframework.security.web.context.SecurityContextPersistenceFilter@254a1406, org.springframework.security.web.header.HeaderWriterFilter@679847d2, org.springframework.security.web.authentication.logout.LogoutFilter@41044c74, com.project.jwt.JwtTokenFilter@10fb860c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@13c0a6a6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7984d86c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4d2139e7, org.springframework.security.web.session.SessionManagementFilter@417d49be, org.springframework.security.web.access.ExceptionTranslationFilter@bc499cc, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2eb9614]
2021-06-12 15:57:53,050 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 15:57:53,052 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 15:57:53,054 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 2 ms
2021-06-12 15:57:53,072 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started ProfileControllerTest in 4.45 seconds (JVM running for 5.338)
2021-06-12 15:57:53,073 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 15:57:53,075 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 15:57:53,292 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 16:15:11,969 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.ProfileControllerTest], using SpringBootContextLoader
2021-06-12 16:15:11,973 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.ProfileControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 16:15:12,077 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 16:15:12,088 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@69ecad2f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5563804b, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@1651d881, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@786d1970, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@74e44687, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3dccf188, org.springframework.test.context.transaction.TransactionalTestExecutionListener@25c1b360, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@35779831, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@63f12066, org.springframework.test.context.event.EventPublishingTestExecutionListener@39ebcd21, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@111933cf, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@18a697cd, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@723e76af, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@155b3f0c, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4d04e123, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@61300fb1, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@603a8636]
2021-06-12 16:15:12,264 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 16:15:12,274 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting ProfileControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 15160 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 16:15:12,275 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 16:15:12,276 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 16:15:12,868 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 16:15:12,930 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 58 ms. Found 10 JPA repository interfaces.
2021-06-12 16:15:13,280 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@57e1c083' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 16:15:13,301 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 16:15:13,525 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 16:15:13,579 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 16:15:13,701 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 16:15:13,775 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 16:15:13,899 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 16:15:13,913 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 16:15:14,969 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 16:15:14,975 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 16:15:15,570 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 16:15:16,403 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1fe1f6cf, org.springframework.security.web.context.SecurityContextPersistenceFilter@456b5207, org.springframework.security.web.header.HeaderWriterFilter@20efd456, org.springframework.security.web.authentication.logout.LogoutFilter@2cea072f, com.project.jwt.JwtTokenFilter@3a444464, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ee0c6c5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@556cf480, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6f99ade3, org.springframework.security.web.session.SessionManagementFilter@1a801586, org.springframework.security.web.access.ExceptionTranslationFilter@304c2692, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3723fc49]
2021-06-12 16:15:16,477 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 16:15:16,478 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 16:15:16,479 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 0 ms
2021-06-12 16:15:16,494 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started ProfileControllerTest in 4.384 seconds (JVM running for 5.223)
2021-06-12 16:15:16,495 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 16:15:16,497 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 16:15:16,685 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 16:15:16,693 INFO org.springframework.test.context.transaction.TransactionContext [Test worker] Began transaction (1) for test context [DefaultTestContext@657824b testClass = ProfileControllerTest, testInstance = com.project.controller.ProfileControllerTest@6f0a4286, testMethod = rateProfile@ProfileControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7b4d880a testClass = ProfileControllerTest, locations = '{}', classes = '{class com.project.AdvertsServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{classpath:application-integrationtest.properties}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@3792bbac, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5b734359, [ImportsContextCustomizer@1fb073b2 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2eb8ae95, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@66e98fea, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@26565fcd, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@199a1098], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@227309ad]; rollback [true]
2021-06-12 16:15:16,938 ERROR com.project.exceptionHandler.ExceptionHandlerClass [Test worker] ids for this class must be manually assigned before calling save(): com.project.entity.Rating; nested exception is org.hibernate.id.IdentifierGenerationException: ids for this class must be manually assigned before calling save(): com.project.entity.Rating
2021-06-12 16:15:16,953 INFO org.springframework.test.context.transaction.TransactionContext [Test worker] Rolled back transaction for test: [DefaultTestContext@657824b testClass = ProfileControllerTest, testInstance = com.project.controller.ProfileControllerTest@6f0a4286, testMethod = rateProfile@ProfileControllerTest, testException = java.lang.AssertionError: Status expected:<200> but was:<500>, mergedContextConfiguration = [WebMergedContextConfiguration@7b4d880a testClass = ProfileControllerTest, locations = '{}', classes = '{class com.project.AdvertsServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{classpath:application-integrationtest.properties}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@3792bbac, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5b734359, [ImportsContextCustomizer@1fb073b2 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2eb8ae95, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@66e98fea, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@26565fcd, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@199a1098], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2021-06-12 16:15:58,224 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.ProfileControllerTest], using SpringBootContextLoader
2021-06-12 16:15:58,229 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.ProfileControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 16:15:58,329 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 16:15:58,341 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2426f40f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@598934c4, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6b3e4a92, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@13405e62, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@555689, org.springframework.test.context.support.DirtiesContextTestExecutionListener@10ea7d53, org.springframework.test.context.transaction.TransactionalTestExecutionListener@919cf06, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@18bb2309, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3270cf89, org.springframework.test.context.event.EventPublishingTestExecutionListener@71333c71, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@3615bcae, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@77f7620e, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@43cff7fe, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2b778b42, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@309ca24e, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@7c374141, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@40fb293e]
2021-06-12 16:15:58,531 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 16:15:58,543 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting ProfileControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 7788 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 16:15:58,543 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 16:15:58,544 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 16:15:59,073 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 16:15:59,145 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 66 ms. Found 10 JPA repository interfaces.
2021-06-12 16:15:59,438 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@66d01264' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 16:15:59,451 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 16:15:59,603 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 16:15:59,654 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 16:15:59,750 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 16:15:59,826 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 16:15:59,972 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 16:15:59,988 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 16:16:00,647 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 16:16:00,656 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 16:16:01,460 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 16:16:02,259 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1fe1f6cf, org.springframework.security.web.context.SecurityContextPersistenceFilter@456b5207, org.springframework.security.web.header.HeaderWriterFilter@20efd456, org.springframework.security.web.authentication.logout.LogoutFilter@2cea072f, com.project.jwt.JwtTokenFilter@3a444464, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ee0c6c5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@556cf480, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6f99ade3, org.springframework.security.web.session.SessionManagementFilter@1a801586, org.springframework.security.web.access.ExceptionTranslationFilter@304c2692, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3723fc49]
2021-06-12 16:16:02,333 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 16:16:02,334 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 16:16:02,335 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 1 ms
2021-06-12 16:16:02,349 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started ProfileControllerTest in 3.983 seconds (JVM running for 4.802)
2021-06-12 16:16:02,350 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 16:16:02,351 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 16:16:02,514 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 16:16:02,786 ERROR com.project.exceptionHandler.ExceptionHandlerClass [Test worker] ids for this class must be manually assigned before calling save(): com.project.entity.Rating; nested exception is org.hibernate.id.IdentifierGenerationException: ids for this class must be manually assigned before calling save(): com.project.entity.Rating
2021-06-12 16:18:40,796 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.ProfileControllerTest], using SpringBootContextLoader
2021-06-12 16:18:40,802 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.ProfileControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 16:18:40,917 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 16:18:40,929 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@69ecad2f, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5563804b, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@1651d881, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@786d1970, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@74e44687, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3dccf188, org.springframework.test.context.transaction.TransactionalTestExecutionListener@25c1b360, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@35779831, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@63f12066, org.springframework.test.context.event.EventPublishingTestExecutionListener@39ebcd21, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@111933cf, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@18a697cd, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@723e76af, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@155b3f0c, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4d04e123, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@61300fb1, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@603a8636]
2021-06-12 16:18:41,148 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 16:18:41,159 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting ProfileControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 17344 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 16:18:41,159 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 16:18:41,161 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 16:18:41,741 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 16:18:41,823 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 76 ms. Found 10 JPA repository interfaces.
2021-06-12 16:18:42,136 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@57e1c083' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 16:18:42,154 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 16:18:42,319 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 16:18:42,366 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 16:18:42,473 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 16:18:42,554 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 16:18:42,685 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 16:18:42,702 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 16:18:43,361 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 16:18:43,368 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 16:18:44,038 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 16:18:44,883 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@26d745e5, org.springframework.security.web.context.SecurityContextPersistenceFilter@1f3bee26, org.springframework.security.web.header.HeaderWriterFilter@24890023, org.springframework.security.web.authentication.logout.LogoutFilter@30cbf287, com.project.jwt.JwtTokenFilter@4465d986, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ce08e4b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@e8aaacd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@75a4e139, org.springframework.security.web.session.SessionManagementFilter@2239050, org.springframework.security.web.access.ExceptionTranslationFilter@5fabef8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@67d09a37]
2021-06-12 16:18:44,956 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 16:18:44,956 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 16:18:44,957 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 1 ms
2021-06-12 16:18:44,969 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started ProfileControllerTest in 4.015 seconds (JVM running for 4.911)
2021-06-12 16:18:44,971 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 16:18:44,972 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 16:18:45,150 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 16:18:45,158 INFO org.springframework.test.context.transaction.TransactionContext [Test worker] Began transaction (1) for test context [DefaultTestContext@63fbe9cb testClass = ProfileControllerTest, testInstance = com.project.controller.ProfileControllerTest@7ec92647, testMethod = rateProfile@ProfileControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1b4e87fa testClass = ProfileControllerTest, locations = '{}', classes = '{class com.project.AdvertsServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{classpath:application-integrationtest.properties}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@3792bbac, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5b734359, [ImportsContextCustomizer@5ec14f4d key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2eb8ae95, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@66e98fea, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@26565fcd, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@199a1098], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6e62b0a2]; rollback [true]
2021-06-12 16:18:45,457 INFO org.springframework.test.context.transaction.TransactionContext [Test worker] Rolled back transaction for test: [DefaultTestContext@63fbe9cb testClass = ProfileControllerTest, testInstance = com.project.controller.ProfileControllerTest@7ec92647, testMethod = rateProfile@ProfileControllerTest, testException = org.opentest4j.AssertionFailedError: expected: <2.5> but was: <null>, mergedContextConfiguration = [WebMergedContextConfiguration@1b4e87fa testClass = ProfileControllerTest, locations = '{}', classes = '{class com.project.AdvertsServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{classpath:application-integrationtest.properties}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@3792bbac, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5b734359, [ImportsContextCustomizer@5ec14f4d key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2eb8ae95, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@66e98fea, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@26565fcd, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@199a1098], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2021-06-12 16:19:27,849 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.ProfileControllerTest], using SpringBootContextLoader
2021-06-12 16:19:27,855 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.ProfileControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 16:19:28,006 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 16:19:28,024 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@314ff1b0, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2a78c58e, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@2a11e9e4, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@74fb2e86, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3a7793d8, org.springframework.test.context.support.DirtiesContextTestExecutionListener@564f75ad, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7334e849, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5e1677b7, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@5879d6fe, org.springframework.test.context.event.EventPublishingTestExecutionListener@75b62241, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@2114fa1e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@4cd28a44, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5a8a7b06, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1eeafe3c, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@182823f5, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@40f01a1e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@49ab1b4d]
2021-06-12 16:19:28,280 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 16:19:28,294 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting ProfileControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 5828 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 16:19:28,295 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 16:19:28,297 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 16:19:28,994 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 16:19:29,086 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 86 ms. Found 10 JPA repository interfaces.
2021-06-12 16:19:29,449 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@26f9c462' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 16:19:29,470 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 16:19:29,658 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 16:19:29,707 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 16:19:29,824 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 16:19:29,922 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 16:19:30,070 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 16:19:30,088 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 16:19:30,868 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 16:19:30,875 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 16:19:31,684 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 16:19:33,189 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@61d674fc, org.springframework.security.web.context.SecurityContextPersistenceFilter@b8fefcb, org.springframework.security.web.header.HeaderWriterFilter@74bb4a00, org.springframework.security.web.authentication.logout.LogoutFilter@7b7a9067, com.project.jwt.JwtTokenFilter@2748a561, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@647666df, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@78c3f963, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1dfa6468, org.springframework.security.web.session.SessionManagementFilter@63e025bc, org.springframework.security.web.access.ExceptionTranslationFilter@6beb5363, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7ad6f066]
2021-06-12 16:19:33,343 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 16:19:33,343 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 16:19:33,344 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 1 ms
2021-06-12 16:19:33,364 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started ProfileControllerTest in 5.313 seconds (JVM running for 6.391)
2021-06-12 16:19:33,366 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 16:19:33,367 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 16:19:33,628 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 16:19:33,641 INFO org.springframework.test.context.transaction.TransactionContext [Test worker] Began transaction (1) for test context [DefaultTestContext@54920760 testClass = ProfileControllerTest, testInstance = com.project.controller.ProfileControllerTest@dc5192d, testMethod = rateProfile@ProfileControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@240990e2 testClass = ProfileControllerTest, locations = '{}', classes = '{class com.project.AdvertsServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{classpath:application-integrationtest.properties}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@70d252e2, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@2fa6634c, [ImportsContextCustomizer@1aa2f67f key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@364632ea, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@538c6d31, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@38aa3923, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@13abb1cb], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@128c7b67]; rollback [true]
2021-06-12 16:23:17,776 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.ProfileControllerTest], using SpringBootContextLoader
2021-06-12 16:23:17,780 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.ProfileControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 16:23:17,885 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 16:23:17,897 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@75dc5de2, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@680b62d5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@ab42175, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@607e1465, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@77da76c5, org.springframework.test.context.support.DirtiesContextTestExecutionListener@44f4af21, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6fe09143, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7f2d6de6, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@5be54098, org.springframework.test.context.event.EventPublishingTestExecutionListener@3a896162, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@510895f9, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@45de8063, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@344ef9c0, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@453d1c5a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@508fee59, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6163a1b3, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2220d4a6]
2021-06-12 16:23:18,091 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 16:23:18,102 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting ProfileControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 5516 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 16:23:18,103 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 16:23:18,104 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 16:23:18,628 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 16:23:18,697 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 63 ms. Found 10 JPA repository interfaces.
2021-06-12 16:23:18,973 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@cfc991' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 16:23:18,989 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 16:23:19,145 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 16:23:19,184 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 16:23:19,280 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 16:23:19,359 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 16:23:19,473 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 16:23:19,485 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 16:23:20,128 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 16:23:20,136 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 16:23:20,745 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 16:23:21,570 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@9eb6eb4, org.springframework.security.web.context.SecurityContextPersistenceFilter@1bdbfac9, org.springframework.security.web.header.HeaderWriterFilter@372225a9, org.springframework.security.web.authentication.logout.LogoutFilter@d474d78, com.project.jwt.JwtTokenFilter@5f8a9401, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@c3985b7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7be838da, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b2322b7, org.springframework.security.web.session.SessionManagementFilter@b5cfe14, org.springframework.security.web.access.ExceptionTranslationFilter@49d23045, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4e2a72f2]
2021-06-12 16:23:21,644 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 16:23:21,645 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 16:23:21,646 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 1 ms
2021-06-12 16:23:21,660 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started ProfileControllerTest in 3.738 seconds (JVM running for 4.587)
2021-06-12 16:23:21,661 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 16:23:21,662 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 16:23:21,840 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 16:23:21,846 INFO org.springframework.test.context.transaction.TransactionContext [Test worker] Began transaction (1) for test context [DefaultTestContext@60ffab5a testClass = ProfileControllerTest, testInstance = com.project.controller.ProfileControllerTest@51e017db, testMethod = rateProfile@ProfileControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6836166e testClass = ProfileControllerTest, locations = '{}', classes = '{class com.project.AdvertsServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{classpath:application-integrationtest.properties}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@2b5e7d0b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1353a4af, [ImportsContextCustomizer@272ad4b8 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@29237e68, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@62b1663a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@31e6c507, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@2876a759], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@72bdb478]; rollback [true]
2021-06-12 16:24:12,323 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.ProfileControllerTest], using SpringBootContextLoader
2021-06-12 16:24:12,332 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.ProfileControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 16:24:12,448 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 16:24:12,459 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@375bf8b8, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@d555198, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6d0acc16, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@68e1744a, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@17dfd6, org.springframework.test.context.support.DirtiesContextTestExecutionListener@27e997dd, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1c38854a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7f18f1a3, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@414f68f9, org.springframework.test.context.event.EventPublishingTestExecutionListener@2a734872, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@72398aa3, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@4a94f8ae, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@70a659a5, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@4026bf1b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7ef4592e, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@13488fd6, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5161876b]
2021-06-12 16:24:12,637 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 16:24:12,649 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting ProfileControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 14828 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 16:24:12,650 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 16:24:12,652 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 16:24:13,288 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 16:24:13,375 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 80 ms. Found 10 JPA repository interfaces.
2021-06-12 16:24:13,753 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4e7ec0d1' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 16:24:13,767 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 16:24:13,918 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 16:24:13,962 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 16:24:14,064 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 16:24:14,142 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 16:24:14,258 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 16:24:14,271 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 16:24:14,854 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 16:24:14,859 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 16:24:15,377 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 16:24:16,149 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5dd6e4f5, org.springframework.security.web.context.SecurityContextPersistenceFilter@2744130f, org.springframework.security.web.header.HeaderWriterFilter@6b30274b, org.springframework.security.web.authentication.logout.LogoutFilter@11223516, com.project.jwt.JwtTokenFilter@75a4169, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@795a3339, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@75adc491, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1a5e261b, org.springframework.security.web.session.SessionManagementFilter@31eff969, org.springframework.security.web.access.ExceptionTranslationFilter@24f2e753, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@31c5b849]
2021-06-12 16:24:16,216 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 16:24:16,217 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 16:24:16,218 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 1 ms
2021-06-12 16:24:16,231 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started ProfileControllerTest in 3.747 seconds (JVM running for 4.567)
2021-06-12 16:24:16,232 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 16:24:16,234 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 16:24:16,398 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 16:24:16,406 INFO org.springframework.test.context.transaction.TransactionContext [Test worker] Began transaction (1) for test context [DefaultTestContext@971ae96 testClass = ProfileControllerTest, testInstance = com.project.controller.ProfileControllerTest@4abd6694, testMethod = rateProfile@ProfileControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@46d07d5f testClass = ProfileControllerTest, locations = '{}', classes = '{class com.project.AdvertsServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{classpath:application-integrationtest.properties}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@27697798, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7ac9a814, [ImportsContextCustomizer@23548ef1 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2fba6415, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5c67b8ee, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1044bdfe, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@3f293b2d], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@49e4b40d]; rollback [true]
2021-06-12 16:24:16,649 INFO org.springframework.test.context.transaction.TransactionContext [Test worker] Rolled back transaction for test: [DefaultTestContext@971ae96 testClass = ProfileControllerTest, testInstance = com.project.controller.ProfileControllerTest@4abd6694, testMethod = rateProfile@ProfileControllerTest, testException = org.opentest4j.AssertionFailedError: expected: <2.5> but was: <null>, mergedContextConfiguration = [WebMergedContextConfiguration@46d07d5f testClass = ProfileControllerTest, locations = '{}', classes = '{class com.project.AdvertsServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{classpath:application-integrationtest.properties}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@27697798, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7ac9a814, [ImportsContextCustomizer@23548ef1 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2fba6415, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5c67b8ee, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1044bdfe, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@3f293b2d], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2021-06-12 16:24:33,954 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.ProfileControllerTest], using SpringBootContextLoader
2021-06-12 16:24:33,959 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.ProfileControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 16:24:34,066 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 16:24:34,078 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2a11e9e4, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@74fb2e86, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3a7793d8, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@564f75ad, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7334e849, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5e1677b7, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5879d6fe, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@75b62241, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@2114fa1e, org.springframework.test.context.event.EventPublishingTestExecutionListener@4cd28a44, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@5a8a7b06, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1eeafe3c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@182823f5, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@40f01a1e, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@49ab1b4d, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@79075a, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5997bb2b]
2021-06-12 16:24:34,263 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 16:24:34,274 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting ProfileControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 5420 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 16:24:34,275 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 16:24:34,276 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 16:24:34,801 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 16:24:34,867 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 60 ms. Found 10 JPA repository interfaces.
2021-06-12 16:24:35,156 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@6167243f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 16:24:35,172 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 16:24:35,344 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 16:24:35,399 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 16:24:35,501 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 16:24:35,580 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 16:24:35,698 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 16:24:35,712 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 16:24:36,372 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 16:24:36,378 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 16:24:37,026 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 16:24:38,193 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3a228b0a, org.springframework.security.web.context.SecurityContextPersistenceFilter@2710b4a2, org.springframework.security.web.header.HeaderWriterFilter@1657e576, org.springframework.security.web.authentication.logout.LogoutFilter@10ea62e4, com.project.jwt.JwtTokenFilter@483a4f5a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@620b425f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@64cca8ce, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6ebffba8, org.springframework.security.web.session.SessionManagementFilter@6497a69, org.springframework.security.web.access.ExceptionTranslationFilter@5d8b254, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@93f54a5]
2021-06-12 16:24:38,268 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 16:24:38,269 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 16:24:38,270 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 1 ms
2021-06-12 16:24:38,284 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started ProfileControllerTest in 4.182 seconds (JVM running for 5.076)
2021-06-12 16:24:38,285 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 16:24:38,286 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 16:24:38,483 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 16:24:38,491 INFO org.springframework.test.context.transaction.TransactionContext [Test worker] Began transaction (1) for test context [DefaultTestContext@7517ea79 testClass = ProfileControllerTest, testInstance = com.project.controller.ProfileControllerTest@70797857, testMethod = rateProfile@ProfileControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@ca50791 testClass = ProfileControllerTest, locations = '{}', classes = '{class com.project.AdvertsServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{classpath:application-integrationtest.properties}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@52148ef3, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@6a0afda5, [ImportsContextCustomizer@4fa7051e key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1f4a1663, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6f30c802, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@771d8409, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@13abb1cb], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6bd19622]; rollback [true]
2021-06-12 16:39:30,512 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.ProfileControllerTest], using SpringBootContextLoader
2021-06-12 16:39:30,516 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.ProfileControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 16:39:30,659 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 16:39:30,670 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1651d881, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@786d1970, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@74e44687, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3dccf188, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@25c1b360, org.springframework.test.context.support.DirtiesContextTestExecutionListener@35779831, org.springframework.test.context.transaction.TransactionalTestExecutionListener@63f12066, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@39ebcd21, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@111933cf, org.springframework.test.context.event.EventPublishingTestExecutionListener@18a697cd, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@723e76af, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@155b3f0c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4d04e123, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@61300fb1, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@603a8636, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2cd56662, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@46b28722]
2021-06-12 16:39:30,857 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 16:39:30,867 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting ProfileControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 11220 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 16:39:30,867 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 16:39:30,869 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 16:39:31,395 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 16:39:31,464 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 63 ms. Found 10 JPA repository interfaces.
2021-06-12 16:39:31,746 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@57e1c083' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 16:39:31,762 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 16:39:31,902 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 16:39:31,946 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 16:39:32,042 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 16:39:32,117 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 16:39:32,248 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 16:39:32,262 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 16:39:32,889 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 16:39:32,897 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 16:39:33,491 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 16:39:34,275 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@432b194c, org.springframework.security.web.context.SecurityContextPersistenceFilter@2cf29909, org.springframework.security.web.header.HeaderWriterFilter@7ffa3a83, org.springframework.security.web.authentication.logout.LogoutFilter@5fcfce09, com.project.jwt.JwtTokenFilter@745d1dd2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1c0bf87a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3002f44e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3d52ab0e, org.springframework.security.web.session.SessionManagementFilter@36e869c5, org.springframework.security.web.access.ExceptionTranslationFilter@63b7650b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3a444464]
2021-06-12 16:39:34,351 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 16:39:34,351 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 16:39:34,353 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 1 ms
2021-06-12 16:39:34,366 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started ProfileControllerTest in 3.673 seconds (JVM running for 4.557)
2021-06-12 16:39:34,368 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 16:39:34,371 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 16:39:34,564 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 16:39:34,574 INFO org.springframework.test.context.transaction.TransactionContext [Test worker] Began transaction (1) for test context [DefaultTestContext@254fefd5 testClass = ProfileControllerTest, testInstance = com.project.controller.ProfileControllerTest@18ec9788, testMethod = rateProfile@ProfileControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@f764147 testClass = ProfileControllerTest, locations = '{}', classes = '{class com.project.AdvertsServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{classpath:application-integrationtest.properties}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@112825b6, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5f5fe36a, [ImportsContextCustomizer@13c79ef8 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4a8a4e31, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7baafb09, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7a0fd0a9, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@199a1098], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@76c88b1b]; rollback [true]
2021-06-12 16:39:34,822 INFO org.springframework.test.context.transaction.TransactionContext [Test worker] Rolled back transaction for test: [DefaultTestContext@254fefd5 testClass = ProfileControllerTest, testInstance = com.project.controller.ProfileControllerTest@18ec9788, testMethod = rateProfile@ProfileControllerTest, testException = org.opentest4j.AssertionFailedError: expected: <2.5> but was: <null>, mergedContextConfiguration = [WebMergedContextConfiguration@f764147 testClass = ProfileControllerTest, locations = '{}', classes = '{class com.project.AdvertsServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{classpath:application-integrationtest.properties}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@112825b6, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5f5fe36a, [ImportsContextCustomizer@13c79ef8 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4a8a4e31, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7baafb09, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7a0fd0a9, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@199a1098], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2021-06-12 16:40:01,696 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.ProfileControllerTest], using SpringBootContextLoader
2021-06-12 16:40:01,703 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.ProfileControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 16:40:01,880 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 16:40:01,894 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2a11e9e4, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@74fb2e86, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3a7793d8, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@564f75ad, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7334e849, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5e1677b7, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5879d6fe, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@75b62241, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@2114fa1e, org.springframework.test.context.event.EventPublishingTestExecutionListener@4cd28a44, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@5a8a7b06, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1eeafe3c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@182823f5, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@40f01a1e, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@49ab1b4d, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@79075a, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5997bb2b]
2021-06-12 16:40:02,130 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 16:40:02,141 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting ProfileControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 16428 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 16:40:02,141 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 16:40:02,143 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 16:40:02,726 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 16:40:02,801 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 69 ms. Found 10 JPA repository interfaces.
2021-06-12 16:40:03,139 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@45dc3560' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 16:40:03,158 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 16:40:03,333 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 16:40:03,377 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 16:40:03,478 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 16:40:03,569 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 16:40:03,693 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 16:40:03,705 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 16:40:04,405 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 16:40:04,413 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 16:40:05,064 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 16:40:06,026 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@454ec674, org.springframework.security.web.context.SecurityContextPersistenceFilter@71d83131, org.springframework.security.web.header.HeaderWriterFilter@519a823b, org.springframework.security.web.authentication.logout.LogoutFilter@5b6757f3, com.project.jwt.JwtTokenFilter@23da687b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6400045f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@684c6632, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@308b0813, org.springframework.security.web.session.SessionManagementFilter@647666df, org.springframework.security.web.access.ExceptionTranslationFilter@763eed84, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@62ad2b4b]
2021-06-12 16:40:06,106 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 16:40:06,107 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 16:40:06,108 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 1 ms
2021-06-12 16:40:06,122 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started ProfileControllerTest in 4.202 seconds (JVM running for 5.345)
2021-06-12 16:40:06,123 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 16:40:06,125 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 16:40:06,328 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 16:40:06,338 INFO org.springframework.test.context.transaction.TransactionContext [Test worker] Began transaction (1) for test context [DefaultTestContext@5f8618e2 testClass = ProfileControllerTest, testInstance = com.project.controller.ProfileControllerTest@6f02203c, testMethod = rateProfile@ProfileControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5804ed91 testClass = ProfileControllerTest, locations = '{}', classes = '{class com.project.AdvertsServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{classpath:application-integrationtest.properties}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@52148ef3, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@6a0afda5, [ImportsContextCustomizer@4a95d8aa key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1f4a1663, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6f30c802, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@771d8409, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@13abb1cb], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@13278b92]; rollback [true]
2021-06-12 16:40:56,881 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.ProfileControllerTest], using SpringBootContextLoader
2021-06-12 16:40:56,886 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.ProfileControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 16:40:57,034 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 16:40:57,046 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@50702d8, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@57b15bbd, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@73dde6c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@5a286ef4, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@6784a6ab, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3a357555, org.springframework.test.context.transaction.TransactionalTestExecutionListener@531212c1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4ad48999, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@827df96, org.springframework.test.context.event.EventPublishingTestExecutionListener@19a98c1a, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@5aee01f4, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@3418d371, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@275610b, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@5769e403, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7da2aebb, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@fd37925, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@26872ced]
2021-06-12 16:40:57,283 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 16:40:57,298 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting ProfileControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 6248 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 16:40:57,299 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 16:40:57,300 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 16:40:57,947 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 16:40:58,030 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 75 ms. Found 10 JPA repository interfaces.
2021-06-12 16:40:58,391 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@6d12fde3' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 16:40:58,411 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 16:40:58,597 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 16:40:58,650 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 16:40:58,765 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 16:40:58,859 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 16:40:58,994 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 16:40:59,008 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 16:40:59,776 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 16:40:59,789 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 16:41:00,529 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 16:41:01,605 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4a1fb306, org.springframework.security.web.context.SecurityContextPersistenceFilter@3e17d628, org.springframework.security.web.header.HeaderWriterFilter@6ac701a1, org.springframework.security.web.authentication.logout.LogoutFilter@3374db43, com.project.jwt.JwtTokenFilter@3dfbd032, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@21737f93, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@470dcce6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2ab11d67, org.springframework.security.web.session.SessionManagementFilter@59619917, org.springframework.security.web.access.ExceptionTranslationFilter@42769025, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@504e427e]
2021-06-12 16:41:01,711 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 16:41:01,711 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 16:41:01,712 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 0 ms
2021-06-12 16:41:01,729 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started ProfileControllerTest in 4.654 seconds (JVM running for 5.667)
2021-06-12 16:41:01,730 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 16:41:01,732 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 16:41:01,943 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 16:41:38,541 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.ProfileControllerTest], using SpringBootContextLoader
2021-06-12 16:41:38,545 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.ProfileControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 16:41:38,665 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 16:41:38,678 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6b3e4a92, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@13405e62, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@555689, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@10ea7d53, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@919cf06, org.springframework.test.context.support.DirtiesContextTestExecutionListener@18bb2309, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3270cf89, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@71333c71, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3615bcae, org.springframework.test.context.event.EventPublishingTestExecutionListener@77f7620e, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@43cff7fe, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@2b778b42, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@309ca24e, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7c374141, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@40fb293e, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@57c197f8, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@21ac19c]
2021-06-12 16:41:38,894 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 16:41:38,904 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting ProfileControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 17764 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 16:41:38,905 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 16:41:38,907 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 16:41:39,508 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 16:41:39,579 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 64 ms. Found 10 JPA repository interfaces.
2021-06-12 16:41:39,869 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7dc990fe' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 16:41:39,884 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 16:41:40,045 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 16:41:40,091 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 16:41:40,200 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 16:41:40,286 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 16:41:40,408 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 16:41:40,422 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 16:41:41,068 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 16:41:41,075 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 16:41:41,691 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 16:41:42,570 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@590a604d, org.springframework.security.web.context.SecurityContextPersistenceFilter@3002f44e, org.springframework.security.web.header.HeaderWriterFilter@6b8a3cd3, org.springframework.security.web.authentication.logout.LogoutFilter@4d2139e7, com.project.jwt.JwtTokenFilter@4edf0db8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3ed84807, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@118930b0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6726ee30, org.springframework.security.web.session.SessionManagementFilter@24890023, org.springframework.security.web.access.ExceptionTranslationFilter@1a801586, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@507326b9]
2021-06-12 16:41:42,657 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 16:41:42,658 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 16:41:42,660 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 1 ms
2021-06-12 16:41:42,679 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started ProfileControllerTest in 3.975 seconds (JVM running for 4.849)
2021-06-12 16:41:42,680 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 16:41:42,682 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 16:41:42,858 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 17:04:36,526 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.ProfileControllerTest], using SpringBootContextLoader
2021-06-12 17:04:36,530 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.ProfileControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 17:04:36,626 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 17:04:36,637 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7a0f6600, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@494c9772, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@188658d8, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3cd424b6, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3dea7a4a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@10b08d82, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3a5a47d4, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@273625bd, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@4960233b, org.springframework.test.context.event.EventPublishingTestExecutionListener@5da87b08, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@3524e38e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@2329335a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6b98b5ff, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7576e3bf, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@675c460c, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@d851a5e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@239c615c]
2021-06-12 17:04:36,810 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 17:04:36,822 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting ProfileControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 17304 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 17:04:36,823 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 17:04:36,824 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 17:04:37,328 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 17:04:37,395 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 61 ms. Found 10 JPA repository interfaces.
2021-06-12 17:04:37,658 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@31dbd0d6' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 17:04:37,672 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 17:04:37,812 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 17:04:37,850 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 17:04:37,940 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 17:04:38,013 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 17:04:38,124 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 17:04:38,136 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 17:04:38,775 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 17:04:38,781 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 17:04:39,315 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 17:04:40,035 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a5e261b, org.springframework.security.web.context.SecurityContextPersistenceFilter@6436c546, org.springframework.security.web.header.HeaderWriterFilter@5199413, org.springframework.security.web.authentication.logout.LogoutFilter@1e861508, com.project.jwt.JwtTokenFilter@2de30697, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7d20fe04, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5076eb8d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@47f8ae92, org.springframework.security.web.session.SessionManagementFilter@25195424, org.springframework.security.web.access.ExceptionTranslationFilter@8db0a06, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4285aa3b]
2021-06-12 17:04:40,097 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 17:04:40,097 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 17:04:40,098 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 1 ms
2021-06-12 17:04:40,111 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started ProfileControllerTest in 3.452 seconds (JVM running for 4.229)
2021-06-12 17:04:40,112 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 17:04:40,113 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 17:04:40,280 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 17:04:56,540 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.ProfileControllerTest], using SpringBootContextLoader
2021-06-12 17:04:56,545 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.ProfileControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 17:04:56,724 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 17:04:56,743 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7a0f6600, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@494c9772, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@188658d8, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3cd424b6, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3dea7a4a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@10b08d82, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3a5a47d4, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@273625bd, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@4960233b, org.springframework.test.context.event.EventPublishingTestExecutionListener@5da87b08, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@3524e38e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@2329335a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6b98b5ff, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7576e3bf, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@675c460c, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@d851a5e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@239c615c]
2021-06-12 17:04:56,937 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 17:04:56,946 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting ProfileControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 18272 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 17:04:56,946 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 17:04:56,948 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 17:04:57,438 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 17:04:57,499 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 56 ms. Found 10 JPA repository interfaces.
2021-06-12 17:04:57,754 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@66435adf' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 17:04:57,768 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 17:04:57,908 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 17:04:57,948 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 17:04:58,039 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 17:04:58,112 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 17:04:58,220 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 17:04:58,232 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 17:04:58,837 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 17:04:58,844 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 17:04:59,396 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 17:05:00,144 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@67c89d3a, org.springframework.security.web.context.SecurityContextPersistenceFilter@8db0a06, org.springframework.security.web.header.HeaderWriterFilter@1ca7af80, org.springframework.security.web.authentication.logout.LogoutFilter@6dd7945a, com.project.jwt.JwtTokenFilter@5d41f330, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3b6b811a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@87dcf9c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@795f8ea5, org.springframework.security.web.session.SessionManagementFilter@692ad124, org.springframework.security.web.access.ExceptionTranslationFilter@6942e98e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3c25182c]
2021-06-12 17:05:00,207 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 17:05:00,208 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 17:05:00,209 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 1 ms
2021-06-12 17:05:00,221 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started ProfileControllerTest in 3.444 seconds (JVM running for 4.426)
2021-06-12 17:05:00,222 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 17:05:00,223 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 17:05:00,406 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 18:52:24,798 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.ChatControllerTest], using SpringBootContextLoader
2021-06-12 18:52:24,812 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.ChatControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 18:52:24,969 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 18:52:24,985 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@73dde6c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5a286ef4, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6784a6ab, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3a357555, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@531212c1, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4ad48999, org.springframework.test.context.transaction.TransactionalTestExecutionListener@827df96, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@19a98c1a, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@5aee01f4, org.springframework.test.context.event.EventPublishingTestExecutionListener@3418d371, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@275610b, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5769e403, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7da2aebb, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@fd37925, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@26872ced, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@3ed68dc2, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@56693bd5]
2021-06-12 18:52:25,235 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 18:52:25,248 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting ChatControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 12688 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 18:52:25,248 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 18:52:25,250 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 18:52:25,898 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 18:52:25,985 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 80 ms. Found 10 JPA repository interfaces.
2021-06-12 18:52:26,305 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4e254bfd' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 18:52:26,321 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 18:52:26,484 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 18:52:26,534 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 18:52:26,640 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 18:52:26,725 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 18:52:26,869 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 18:52:26,886 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 18:52:27,624 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 18:52:27,631 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 18:52:28,294 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 18:52:29,276 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@541f7929, org.springframework.security.web.context.SecurityContextPersistenceFilter@482c148a, org.springframework.security.web.header.HeaderWriterFilter@42769025, org.springframework.security.web.authentication.logout.LogoutFilter@78c3f963, com.project.jwt.JwtTokenFilter@715026ae, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4d2fc005, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@103246bd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7d0cf746, org.springframework.security.web.session.SessionManagementFilter@7eab77a8, org.springframework.security.web.access.ExceptionTranslationFilter@7baa92ee, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3a228b0a]
2021-06-12 18:52:29,368 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 18:52:29,368 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 18:52:29,369 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 1 ms
2021-06-12 18:52:29,389 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started ChatControllerTest in 4.372 seconds (JVM running for 5.736)
2021-06-12 18:52:29,390 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 18:52:29,394 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 18:52:29,577 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 18:52:29,717 INFO com.project.service.UserService [Test worker] IN register - user: rertyp successfully registered
2021-06-12 18:52:30,229 INFO com.project.service.ChatService [Test worker] Chat was created
2021-06-12 19:10:26,497 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.ChatControllerTest], using SpringBootContextLoader
2021-06-12 19:10:26,502 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.ChatControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 19:10:26,617 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 19:10:26,628 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3a7793d8, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@564f75ad, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@7334e849, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@5e1677b7, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5879d6fe, org.springframework.test.context.support.DirtiesContextTestExecutionListener@75b62241, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2114fa1e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4cd28a44, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@5a8a7b06, org.springframework.test.context.event.EventPublishingTestExecutionListener@1eeafe3c, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@182823f5, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@40f01a1e, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@49ab1b4d, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@79075a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5997bb2b, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@19f76aed, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@8177bed]
2021-06-12 19:10:26,815 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 19:10:26,825 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting ChatControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 5704 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 19:10:26,826 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 19:10:26,827 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 19:10:27,380 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 19:10:27,448 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 63 ms. Found 10 JPA repository interfaces.
2021-06-12 19:10:27,737 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@6167243f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 19:10:27,752 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 19:10:27,907 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 19:10:27,947 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 19:10:28,044 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 19:10:28,123 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 19:10:28,238 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 19:10:28,251 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 19:10:28,898 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 19:10:28,906 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 19:10:29,507 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 19:10:30,397 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@63466c76, org.springframework.security.web.context.SecurityContextPersistenceFilter@7b7a9067, org.springframework.security.web.header.HeaderWriterFilter@725b3080, org.springframework.security.web.authentication.logout.LogoutFilter@1db8a76c, com.project.jwt.JwtTokenFilter@514143be, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@334bcb97, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@486741bd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@79ae1382, org.springframework.security.web.session.SessionManagementFilter@20d05291, org.springframework.security.web.access.ExceptionTranslationFilter@57b20f16, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@73582c58]
2021-06-12 19:10:30,475 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 19:10:30,475 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 19:10:30,476 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 1 ms
2021-06-12 19:10:30,490 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started ChatControllerTest in 3.84 seconds (JVM running for 4.849)
2021-06-12 19:10:30,492 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 19:10:30,493 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 19:10:30,662 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 19:10:30,723 INFO com.project.service.UserService [Test worker] IN register - user: rertyp successfully registered
2021-06-12 19:10:30,732 INFO org.springframework.test.context.transaction.TransactionContext [Test worker] Began transaction (1) for test context [DefaultTestContext@e2873bb testClass = ChatControllerTest, testInstance = com.project.controller.ChatControllerTest@6008dc74, testMethod = sendMessage@ChatControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@26fda40c testClass = ChatControllerTest, locations = '{}', classes = '{class com.project.AdvertsServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{classpath:application-integrationtest.properties}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@8c0902e, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3a5164f1, [ImportsContextCustomizer@77999738 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@545ac4c8, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@10d3364d, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@558a54fe, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@259517e3], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@136e67d9]; rollback [true]
2021-06-12 19:10:30,913 INFO com.project.service.ChatService [Test worker] Chat was created
2021-06-12 19:10:31,094 ERROR com.project.exceptionHandler.ExceptionHandlerClass [Test worker] null
2021-06-12 19:10:31,115 INFO org.springframework.test.context.transaction.TransactionContext [Test worker] Rolled back transaction for test: [DefaultTestContext@e2873bb testClass = ChatControllerTest, testInstance = com.project.controller.ChatControllerTest@6008dc74, testMethod = sendMessage@ChatControllerTest, testException = java.lang.AssertionError: Status expected:<200> but was:<404>, mergedContextConfiguration = [WebMergedContextConfiguration@26fda40c testClass = ChatControllerTest, locations = '{}', classes = '{class com.project.AdvertsServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{classpath:application-integrationtest.properties}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@8c0902e, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3a5164f1, [ImportsContextCustomizer@77999738 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@545ac4c8, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@10d3364d, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@558a54fe, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@259517e3], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2021-06-12 19:10:51,530 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.ChatControllerTest], using SpringBootContextLoader
2021-06-12 19:10:51,534 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.ChatControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 19:10:51,650 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 19:10:51,664 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@73dde6c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5a286ef4, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6784a6ab, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3a357555, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@531212c1, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4ad48999, org.springframework.test.context.transaction.TransactionalTestExecutionListener@827df96, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@19a98c1a, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@5aee01f4, org.springframework.test.context.event.EventPublishingTestExecutionListener@3418d371, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@275610b, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5769e403, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7da2aebb, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@fd37925, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@26872ced, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@3ed68dc2, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@56693bd5]
2021-06-12 19:10:51,859 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 19:10:51,869 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting ChatControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 2504 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 19:10:51,870 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 19:10:51,872 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 19:10:52,431 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 19:10:52,501 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 64 ms. Found 10 JPA repository interfaces.
2021-06-12 19:10:52,793 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@a2c2023' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 19:10:52,810 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 19:10:52,970 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 19:10:53,010 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 19:10:53,106 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 19:10:53,185 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 19:10:53,302 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 19:10:53,315 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 19:10:53,996 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 19:10:54,002 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 19:10:54,687 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 19:10:55,532 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b7a9067, org.springframework.security.web.context.SecurityContextPersistenceFilter@6edd0f42, org.springframework.security.web.header.HeaderWriterFilter@6951ba0d, org.springframework.security.web.authentication.logout.LogoutFilter@6948654d, com.project.jwt.JwtTokenFilter@93f54a5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@445730f2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7048353d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@a46132d, org.springframework.security.web.session.SessionManagementFilter@4d1d9e0, org.springframework.security.web.access.ExceptionTranslationFilter@4de66a0b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3f69410b]
2021-06-12 19:10:55,612 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 19:10:55,612 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 19:10:55,613 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 1 ms
2021-06-12 19:10:55,627 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started ChatControllerTest in 3.937 seconds (JVM running for 4.819)
2021-06-12 19:10:55,628 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 19:10:55,630 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 19:10:55,802 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 19:10:55,862 INFO com.project.service.UserService [Test worker] IN register - user: rertyp successfully registered
2021-06-12 19:10:56,023 INFO com.project.service.ChatService [Test worker] Chat was created
2021-06-12 19:10:56,153 INFO com.project.service.ChatService [Test worker] Message was send
2021-06-12 19:10:56,158 ERROR com.project.exceptionHandler.ExceptionHandlerClass [Test worker] ids for this class must be manually assigned before calling save(): com.project.entity.Message; nested exception is org.hibernate.id.IdentifierGenerationException: ids for this class must be manually assigned before calling save(): com.project.entity.Message
2021-06-12 19:13:28,480 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.ChatControllerTest], using SpringBootContextLoader
2021-06-12 19:13:28,485 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.ChatControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 19:13:28,603 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 19:13:28,616 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@73dde6c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5a286ef4, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6784a6ab, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3a357555, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@531212c1, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4ad48999, org.springframework.test.context.transaction.TransactionalTestExecutionListener@827df96, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@19a98c1a, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@5aee01f4, org.springframework.test.context.event.EventPublishingTestExecutionListener@3418d371, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@275610b, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5769e403, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7da2aebb, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@fd37925, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@26872ced, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@3ed68dc2, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@56693bd5]
2021-06-12 19:13:28,811 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 19:13:28,823 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting ChatControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 16312 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 19:13:28,823 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 19:13:28,825 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 19:13:29,547 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 19:13:29,621 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 67 ms. Found 10 JPA repository interfaces.
2021-06-12 19:13:29,908 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4e254bfd' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 19:13:29,924 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 19:13:30,084 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 19:13:30,125 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 19:13:30,228 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 19:13:30,310 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 19:13:30,459 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 19:13:30,478 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 19:13:31,304 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 19:13:31,315 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 19:13:31,933 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 19:13:32,830 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@23da687b, org.springframework.security.web.context.SecurityContextPersistenceFilter@2b9bb4a9, org.springframework.security.web.header.HeaderWriterFilter@69a0fa86, org.springframework.security.web.authentication.logout.LogoutFilter@41bd935a, com.project.jwt.JwtTokenFilter@308b0813, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@725b3080, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7a7ead6d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@715a076, org.springframework.security.web.session.SessionManagementFilter@330e0359, org.springframework.security.web.access.ExceptionTranslationFilter@7cf707e9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2c3ada52]
2021-06-12 19:13:32,918 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 19:13:32,918 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 19:13:32,919 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 1 ms
2021-06-12 19:13:32,936 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started ChatControllerTest in 4.295 seconds (JVM running for 5.174)
2021-06-12 19:13:32,938 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 19:13:32,940 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 19:13:33,134 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 19:13:33,194 INFO com.project.service.UserService [Test worker] IN register - user: rertyp successfully registered
2021-06-12 19:13:33,363 INFO com.project.service.ChatService [Test worker] Chat was created
2021-06-12 19:13:33,489 INFO com.project.service.ChatService [Test worker] Message was send
2021-06-12 19:14:34,112 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.ChatControllerTest], using SpringBootContextLoader
2021-06-12 19:14:34,116 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.ChatControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 19:14:34,229 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 19:14:34,241 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3a7793d8, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@564f75ad, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@7334e849, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@5e1677b7, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5879d6fe, org.springframework.test.context.support.DirtiesContextTestExecutionListener@75b62241, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2114fa1e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4cd28a44, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@5a8a7b06, org.springframework.test.context.event.EventPublishingTestExecutionListener@1eeafe3c, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@182823f5, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@40f01a1e, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@49ab1b4d, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@79075a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5997bb2b, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@19f76aed, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@8177bed]
2021-06-12 19:14:34,437 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 19:14:34,448 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting ChatControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 4236 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 19:14:34,449 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 19:14:34,450 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 19:14:35,047 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 19:14:35,118 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 65 ms. Found 10 JPA repository interfaces.
2021-06-12 19:14:35,400 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@61a7b5a' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 19:14:35,416 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 19:14:35,570 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 19:14:35,614 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 19:14:35,725 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 19:14:35,827 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 19:14:35,952 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 19:14:35,964 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 19:14:36,640 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 19:14:36,648 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 19:14:37,284 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 19:14:38,220 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6ebffba8, org.springframework.security.web.context.SecurityContextPersistenceFilter@301387f5, org.springframework.security.web.header.HeaderWriterFilter@4d1d9e0, org.springframework.security.web.authentication.logout.LogoutFilter@b8fefcb, com.project.jwt.JwtTokenFilter@7533e884, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@522b6e37, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@482c148a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b6757f3, org.springframework.security.web.session.SessionManagementFilter@3152e4f1, org.springframework.security.web.access.ExceptionTranslationFilter@2bc6ae87, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@334bcb97]
2021-06-12 19:14:38,293 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 19:14:38,294 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 19:14:38,295 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 1 ms
2021-06-12 19:14:38,312 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started ChatControllerTest in 4.045 seconds (JVM running for 4.904)
2021-06-12 19:14:38,314 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 19:14:38,316 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 19:14:38,508 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 19:14:38,596 INFO com.project.service.UserService [Test worker] IN register - user: rertyp successfully registered
2021-06-12 19:14:38,603 INFO org.springframework.test.context.transaction.TransactionContext [Test worker] Began transaction (1) for test context [DefaultTestContext@7dd2733b testClass = ChatControllerTest, testInstance = com.project.controller.ChatControllerTest@78cdb483, testMethod = sendMessage@ChatControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@b88edb testClass = ChatControllerTest, locations = '{}', classes = '{class com.project.AdvertsServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{classpath:application-integrationtest.properties}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@8c0902e, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3a5164f1, [ImportsContextCustomizer@3a04fac9 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@545ac4c8, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@10d3364d, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@558a54fe, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@259517e3], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4ad2dade]; rollback [true]
2021-06-12 19:14:38,748 INFO com.project.service.ChatService [Test worker] Chat was created
2021-06-12 19:14:38,857 ERROR com.project.exceptionHandler.ExceptionHandlerClass [Test worker] null
2021-06-12 19:14:38,871 INFO org.springframework.test.context.transaction.TransactionContext [Test worker] Rolled back transaction for test: [DefaultTestContext@7dd2733b testClass = ChatControllerTest, testInstance = com.project.controller.ChatControllerTest@78cdb483, testMethod = sendMessage@ChatControllerTest, testException = java.lang.AssertionError: Status expected:<200> but was:<404>, mergedContextConfiguration = [WebMergedContextConfiguration@b88edb testClass = ChatControllerTest, locations = '{}', classes = '{class com.project.AdvertsServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{classpath:application-integrationtest.properties}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@8c0902e, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3a5164f1, [ImportsContextCustomizer@3a04fac9 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@545ac4c8, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@10d3364d, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@558a54fe, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@259517e3], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2021-06-12 19:15:58,069 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.ChatControllerTest], using SpringBootContextLoader
2021-06-12 19:15:58,074 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.ChatControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 19:15:58,217 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 19:15:58,230 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6784a6ab, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3a357555, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@531212c1, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4ad48999, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@827df96, org.springframework.test.context.support.DirtiesContextTestExecutionListener@19a98c1a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5aee01f4, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3418d371, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@275610b, org.springframework.test.context.event.EventPublishingTestExecutionListener@5769e403, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@7da2aebb, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@fd37925, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@26872ced, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3ed68dc2, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@56693bd5, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@42676a6c, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5d18d689]
2021-06-12 19:15:58,465 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 19:15:58,476 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting ChatControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 17316 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 19:15:58,476 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 19:15:58,478 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 19:15:59,043 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 19:15:59,113 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 64 ms. Found 10 JPA repository interfaces.
2021-06-12 19:15:59,427 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7d715963' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 19:15:59,443 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 19:15:59,608 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 19:15:59,662 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 19:15:59,804 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 19:15:59,901 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 19:16:00,034 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 19:16:00,048 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 19:16:00,734 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 19:16:00,740 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 19:16:01,334 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 19:16:02,226 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@533837e4, org.springframework.security.web.context.SecurityContextPersistenceFilter@21554b03, org.springframework.security.web.header.HeaderWriterFilter@620b425f, org.springframework.security.web.authentication.logout.LogoutFilter@792db461, com.project.jwt.JwtTokenFilter@302117f1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4c0b9b37, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@519a823b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12597eb7, org.springframework.security.web.session.SessionManagementFilter@3e17d628, org.springframework.security.web.access.ExceptionTranslationFilter@7048353d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@541f7929]
2021-06-12 19:16:02,310 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 19:16:02,310 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 19:16:02,311 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 1 ms
2021-06-12 19:16:02,325 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started ChatControllerTest in 4.067 seconds (JVM running for 5.063)
2021-06-12 19:16:02,327 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 19:16:02,328 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 19:16:02,528 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 19:16:02,612 INFO com.project.service.UserService [Test worker] IN register - user: rertyp successfully registered
2021-06-12 19:16:02,776 INFO com.project.service.ChatService [Test worker] Chat was created
2021-06-12 19:16:02,894 INFO com.project.service.ChatService [Test worker] Message was send
2021-06-12 19:17:36,025 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.ChatControllerTest], using SpringBootContextLoader
2021-06-12 19:17:36,029 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.ChatControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 19:17:36,146 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 19:17:36,159 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6784a6ab, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3a357555, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@531212c1, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4ad48999, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@827df96, org.springframework.test.context.support.DirtiesContextTestExecutionListener@19a98c1a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5aee01f4, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3418d371, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@275610b, org.springframework.test.context.event.EventPublishingTestExecutionListener@5769e403, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@7da2aebb, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@fd37925, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@26872ced, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3ed68dc2, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@56693bd5, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@42676a6c, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5d18d689]
2021-06-12 19:17:36,355 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 19:17:36,365 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting ChatControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 7904 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 19:17:36,366 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 19:17:36,367 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 19:17:36,910 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 19:17:36,981 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 65 ms. Found 10 JPA repository interfaces.
2021-06-12 19:17:37,269 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@641e449e' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 19:17:37,287 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 19:17:37,446 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 19:17:37,487 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 19:17:37,583 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 19:17:37,663 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 19:17:37,783 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 19:17:37,795 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 19:17:38,481 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 19:17:38,488 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 19:17:39,085 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 19:17:39,997 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1dfa6468, org.springframework.security.web.context.SecurityContextPersistenceFilter@7979d916, org.springframework.security.web.header.HeaderWriterFilter@6beb5363, org.springframework.security.web.authentication.logout.LogoutFilter@795ad7df, com.project.jwt.JwtTokenFilter@528f0aab, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@27ecbe66, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@aecc9ce, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@ace592, org.springframework.security.web.session.SessionManagementFilter@519a823b, org.springframework.security.web.access.ExceptionTranslationFilter@6d1f38b6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@81f89f2]
2021-06-12 19:17:40,090 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 19:17:40,090 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 19:17:40,091 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 1 ms
2021-06-12 19:17:40,107 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started ChatControllerTest in 3.918 seconds (JVM running for 4.863)
2021-06-12 19:17:40,108 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 19:17:40,110 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 19:17:40,285 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 19:17:40,347 INFO com.project.service.UserService [Test worker] IN register - user: rertyp successfully registered
2021-06-12 19:17:40,519 INFO com.project.service.ChatService [Test worker] Chat was created
2021-06-12 19:17:40,641 INFO com.project.service.ChatService [Test worker] Message was send
2021-06-12 19:20:51,515 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.ChatControllerTest], using SpringBootContextLoader
2021-06-12 19:20:51,520 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.ChatControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 19:20:51,701 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 19:20:51,720 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7334e849, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5e1677b7, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@5879d6fe, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@75b62241, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@2114fa1e, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4cd28a44, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5a8a7b06, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1eeafe3c, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@182823f5, org.springframework.test.context.event.EventPublishingTestExecutionListener@40f01a1e, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@49ab1b4d, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@79075a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5997bb2b, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@19f76aed, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@8177bed, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@409cee62, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@24b65bb9]
2021-06-12 19:20:51,988 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 19:20:51,999 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting ChatControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 12108 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 19:20:52,000 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 19:20:52,002 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 19:20:52,533 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 19:20:52,603 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 63 ms. Found 10 JPA repository interfaces.
2021-06-12 19:20:52,891 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@a2c2023' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 19:20:52,907 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 19:20:53,072 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 19:20:53,115 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 19:20:53,217 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 19:20:53,295 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 19:20:53,416 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 19:20:53,428 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 19:20:54,071 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 19:20:54,078 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 19:20:54,676 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 19:20:55,555 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@612da212, org.springframework.security.web.context.SecurityContextPersistenceFilter@78c3f963, org.springframework.security.web.header.HeaderWriterFilter@7b52f748, org.springframework.security.web.authentication.logout.LogoutFilter@486741bd, com.project.jwt.JwtTokenFilter@6ad12a0f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5461f057, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b9bb4a9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10c3854d, org.springframework.security.web.session.SessionManagementFilter@10f32c2d, org.springframework.security.web.access.ExceptionTranslationFilter@4c0b9b37, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3721a52d]
2021-06-12 19:20:55,637 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 19:20:55,637 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 19:20:55,638 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 1 ms
2021-06-12 19:20:55,653 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started ChatControllerTest in 3.904 seconds (JVM running for 4.903)
2021-06-12 19:20:55,654 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 19:20:55,656 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 19:20:55,844 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 19:20:55,912 INFO com.project.service.UserService [Test worker] IN register - user: rertyp successfully registered
2021-06-12 19:23:02,812 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.ChatControllerTest], using SpringBootContextLoader
2021-06-12 19:23:02,816 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.ChatControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 19:23:02,917 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 19:23:02,928 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@919cf06, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@18bb2309, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3270cf89, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@71333c71, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3615bcae, org.springframework.test.context.support.DirtiesContextTestExecutionListener@77f7620e, org.springframework.test.context.transaction.TransactionalTestExecutionListener@43cff7fe, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2b778b42, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@309ca24e, org.springframework.test.context.event.EventPublishingTestExecutionListener@7c374141, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@40fb293e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@57c197f8, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@21ac19c, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@4461b5d7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5d4ad6bc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@66fe4ba, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@52adc3ca]
2021-06-12 19:23:03,101 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 19:23:03,114 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting ChatControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 4768 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 19:23:03,115 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 19:23:03,116 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 19:23:03,601 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 19:23:03,662 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 57 ms. Found 10 JPA repository interfaces.
2021-06-12 19:23:03,919 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7dc990fe' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 19:23:03,933 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 19:23:04,071 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 19:23:04,112 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 19:23:04,202 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 19:23:04,273 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 19:23:04,385 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 19:23:04,397 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 19:23:04,966 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 19:23:04,971 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 19:23:05,507 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 19:23:06,221 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3d52ab0e, org.springframework.security.web.context.SecurityContextPersistenceFilter@4e55d0a4, org.springframework.security.web.header.HeaderWriterFilter@1a801586, org.springframework.security.web.authentication.logout.LogoutFilter@6cd9860, com.project.jwt.JwtTokenFilter@393081e5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7fddb3e9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@512efcec, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@224a1ef6, org.springframework.security.web.session.SessionManagementFilter@5fabef8, org.springframework.security.web.access.ExceptionTranslationFilter@1b835037, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@50334249]
2021-06-12 19:23:06,287 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 19:23:06,287 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 19:23:06,289 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 1 ms
2021-06-12 19:23:06,308 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started ChatControllerTest in 3.357 seconds (JVM running for 4.157)
2021-06-12 19:23:06,310 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 19:23:06,314 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 19:23:06,518 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 19:23:06,581 INFO com.project.service.UserService [Test worker] IN register - user: rertyp successfully registered
2021-06-12 19:23:06,723 INFO com.project.service.ChatService [Test worker] Chat was created
2021-06-12 19:23:06,833 INFO com.project.service.ChatService [Test worker] Message was send
2021-06-12 20:22:48,249 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.ChatControllerTest], using SpringBootContextLoader
2021-06-12 20:22:48,254 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.ChatControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 20:22:48,361 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 20:22:48,373 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3270cf89, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@71333c71, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3615bcae, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@77f7620e, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@43cff7fe, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2b778b42, org.springframework.test.context.transaction.TransactionalTestExecutionListener@309ca24e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7c374141, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@40fb293e, org.springframework.test.context.event.EventPublishingTestExecutionListener@57c197f8, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@21ac19c, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@4461b5d7, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5d4ad6bc, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@66fe4ba, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@52adc3ca, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@1b2b0b45, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@105fc1aa]
2021-06-12 20:22:48,595 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 20:22:48,604 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting ChatControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 16280 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 20:22:48,605 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 20:22:48,606 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 20:22:49,152 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 20:22:49,218 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 60 ms. Found 10 JPA repository interfaces.
2021-06-12 20:22:49,553 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7395f111' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 20:22:49,573 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 20:22:49,742 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 20:22:49,786 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 20:22:49,891 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 20:22:49,976 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 20:22:50,111 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 20:22:50,124 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 20:22:50,793 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 20:22:50,799 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 20:22:51,474 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 20:22:52,392 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@30cbf287, org.springframework.security.web.context.SecurityContextPersistenceFilter@6411c698, org.springframework.security.web.header.HeaderWriterFilter@63a8720e, org.springframework.security.web.authentication.logout.LogoutFilter@3002f44e, com.project.jwt.JwtTokenFilter@239ae21b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@57060666, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@49ba8345, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3323c868, org.springframework.security.web.session.SessionManagementFilter@13c0a6a6, org.springframework.security.web.access.ExceptionTranslationFilter@116f9d99, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4f4c737c]
2021-06-12 20:22:52,461 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 20:22:52,461 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 20:22:52,463 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 2 ms
2021-06-12 20:22:52,477 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started ChatControllerTest in 4.08 seconds (JVM running for 5.007)
2021-06-12 20:22:52,478 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 20:22:52,480 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 20:22:52,662 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 20:22:52,727 INFO com.project.service.UserService [Test worker] IN register - user: rertyp successfully registered
2021-06-12 20:22:52,888 INFO com.project.service.ChatService [Test worker] Chat was created
2021-06-12 20:22:53,014 INFO com.project.service.ChatService [Test worker] Message was send
2021-06-12 20:22:53,053 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Test worker] SQL Error: 23503, SQLState: 23503
2021-06-12 20:22:53,053 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Test worker]   : "FKQOI6PLYG6NSCI3MCKUP5JSSOL: PUBLIC.PROFILES_CHATS FOREIGN KEY(CHAT_ID) REFERENCES PUBLIC.CHAT(ID) (1)"
Referential integrity constraint violation: "FKQOI6PLYG6NSCI3MCKUP5JSSOL: PUBLIC.PROFILES_CHATS FOREIGN KEY(CHAT_ID) REFERENCES PUBLIC.CHAT(ID) (1)"; SQL statement:
delete from chat where id=? [23503-200]
2021-06-12 20:22:53,055 INFO org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl [Test worker] HHH000010: On release of batch it still contained JDBC statements
2021-06-12 20:22:53,109 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [SpringContextShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 20:22:53,109 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [SpringContextShutdownHook] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-06-12 20:22:53,110 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [SpringContextShutdownHook] SQL Error: 90121, SQLState: 90121
2021-06-12 20:22:53,110 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [SpringContextShutdownHook]     (        JVM,  ";DB_CLOSE_ON_EXIT=FALSE"  URL)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-06-12 20:22:53,110 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [SpringContextShutdownHook] SQL Error: 90121, SQLState: 90121
2021-06-12 20:22:53,110 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [SpringContextShutdownHook]     (        JVM,  ";DB_CLOSE_ON_EXIT=FALSE"  URL)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-06-12 20:22:53,110 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [SpringContextShutdownHook] Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection used for DDL execution
2021-06-12 20:22:53,111 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown initiated...
2021-06-12 20:22:53,123 INFO com.zaxxer.hikari.HikariDataSource [SpringContextShutdownHook] HikariPool-1 - Shutdown completed.
2021-06-12 20:23:46,648 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.ChatControllerTest], using SpringBootContextLoader
2021-06-12 20:23:46,656 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.ChatControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 20:23:46,847 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 20:23:46,860 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3270cf89, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@71333c71, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3615bcae, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@77f7620e, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@43cff7fe, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2b778b42, org.springframework.test.context.transaction.TransactionalTestExecutionListener@309ca24e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7c374141, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@40fb293e, org.springframework.test.context.event.EventPublishingTestExecutionListener@57c197f8, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@21ac19c, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@4461b5d7, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5d4ad6bc, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@66fe4ba, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@52adc3ca, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@1b2b0b45, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@105fc1aa]
2021-06-12 20:23:47,109 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 20:23:47,144 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting ChatControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 16484 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 20:23:47,145 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 20:23:47,160 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 20:23:48,127 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 20:23:48,241 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 107 ms. Found 10 JPA repository interfaces.
2021-06-12 20:23:48,529 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@364ddf03' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 20:23:48,549 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 20:23:48,702 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 20:23:48,747 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 20:23:48,849 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 20:23:48,928 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 20:23:49,053 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 20:23:49,066 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 20:23:49,735 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 20:23:49,741 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 20:23:50,327 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 20:23:51,169 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1fceb658, org.springframework.security.web.context.SecurityContextPersistenceFilter@381539bd, org.springframework.security.web.header.HeaderWriterFilter@29e74bca, org.springframework.security.web.authentication.logout.LogoutFilter@368244c1, com.project.jwt.JwtTokenFilter@2d7626cf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@59ec8846, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6cd9860, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2dcdf05b, org.springframework.security.web.session.SessionManagementFilter@39f1fb0a, org.springframework.security.web.access.ExceptionTranslationFilter@5ce66fe9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7ca2c6b8]
2021-06-12 20:23:51,239 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 20:23:51,239 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 20:23:51,240 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 1 ms
2021-06-12 20:23:51,254 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started ChatControllerTest in 4.368 seconds (JVM running for 5.333)
2021-06-12 20:23:51,256 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 20:23:51,257 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 20:23:51,462 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 20:23:51,552 INFO com.project.service.UserService [Test worker] IN register - user: rertyp successfully registered
2021-06-12 20:23:51,710 INFO com.project.service.ChatService [Test worker] Chat was created
2021-06-12 20:23:51,835 INFO com.project.service.ChatService [Test worker] Message was send
2021-06-12 20:23:51,875 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Test worker] SQL Error: 23503, SQLState: 23503
2021-06-12 20:23:51,876 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Test worker]   : "FKQOI6PLYG6NSCI3MCKUP5JSSOL: PUBLIC.PROFILES_CHATS FOREIGN KEY(CHAT_ID) REFERENCES PUBLIC.CHAT(ID) (1)"
Referential integrity constraint violation: "FKQOI6PLYG6NSCI3MCKUP5JSSOL: PUBLIC.PROFILES_CHATS FOREIGN KEY(CHAT_ID) REFERENCES PUBLIC.CHAT(ID) (1)"; SQL statement:
delete from chat where id=? [23503-200]
2021-06-12 20:23:51,878 INFO org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl [Test worker] HHH000010: On release of batch it still contained JDBC statements
2021-06-12 20:26:01,063 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.ChatControllerTest], using SpringBootContextLoader
2021-06-12 20:26:01,067 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.ChatControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 20:26:01,180 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 20:26:01,193 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@919cf06, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@18bb2309, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3270cf89, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@71333c71, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3615bcae, org.springframework.test.context.support.DirtiesContextTestExecutionListener@77f7620e, org.springframework.test.context.transaction.TransactionalTestExecutionListener@43cff7fe, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2b778b42, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@309ca24e, org.springframework.test.context.event.EventPublishingTestExecutionListener@7c374141, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@40fb293e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@57c197f8, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@21ac19c, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@4461b5d7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5d4ad6bc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@66fe4ba, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@52adc3ca]
2021-06-12 20:26:01,452 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 20:26:01,464 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting ChatControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 18164 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 20:26:01,464 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 20:26:01,465 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 20:26:02,254 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 20:26:02,329 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 69 ms. Found 10 JPA repository interfaces.
2021-06-12 20:26:02,653 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@64e7a0bf' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 20:26:02,674 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 20:26:02,890 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 20:26:02,935 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 20:26:03,038 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 20:26:03,120 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 20:26:03,252 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 20:26:03,264 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 20:26:03,985 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 20:26:03,991 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 20:26:04,620 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 20:26:05,523 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@67d09a37, org.springframework.security.web.context.SecurityContextPersistenceFilter@3ed84807, org.springframework.security.web.header.HeaderWriterFilter@1a801586, org.springframework.security.web.authentication.logout.LogoutFilter@4f4c737c, com.project.jwt.JwtTokenFilter@6d528688, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f081b86, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@59d0e86c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b56f457, org.springframework.security.web.session.SessionManagementFilter@5fabef8, org.springframework.security.web.access.ExceptionTranslationFilter@1b835037, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@745d1dd2]
2021-06-12 20:26:05,601 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 20:26:05,602 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 20:26:05,604 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 1 ms
2021-06-12 20:26:05,634 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started ChatControllerTest in 4.413 seconds (JVM running for 5.274)
2021-06-12 20:26:05,635 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 20:26:05,639 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 20:26:05,841 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 20:26:05,904 INFO com.project.service.UserService [Test worker] IN register - user: rertyp successfully registered
2021-06-12 20:26:06,069 INFO com.project.service.ChatService [Test worker] Chat was created
2021-06-12 20:26:06,217 INFO com.project.service.ChatService [Test worker] Chat was got
2021-06-12 20:26:06,244 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Test worker] SQL Error: 23503, SQLState: 23503
2021-06-12 20:26:06,244 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Test worker]   : "FKQOI6PLYG6NSCI3MCKUP5JSSOL: PUBLIC.PROFILES_CHATS FOREIGN KEY(CHAT_ID) REFERENCES PUBLIC.CHAT(ID) (1)"
Referential integrity constraint violation: "FKQOI6PLYG6NSCI3MCKUP5JSSOL: PUBLIC.PROFILES_CHATS FOREIGN KEY(CHAT_ID) REFERENCES PUBLIC.CHAT(ID) (1)"; SQL statement:
delete from chat where id=? [23503-200]
2021-06-12 20:26:06,245 INFO org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl [Test worker] HHH000010: On release of batch it still contained JDBC statements
2021-06-12 20:27:04,608 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.ChatControllerTest], using SpringBootContextLoader
2021-06-12 20:27:04,613 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.ChatControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 20:27:04,784 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 20:27:04,805 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@919cf06, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@18bb2309, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3270cf89, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@71333c71, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3615bcae, org.springframework.test.context.support.DirtiesContextTestExecutionListener@77f7620e, org.springframework.test.context.transaction.TransactionalTestExecutionListener@43cff7fe, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2b778b42, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@309ca24e, org.springframework.test.context.event.EventPublishingTestExecutionListener@7c374141, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@40fb293e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@57c197f8, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@21ac19c, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@4461b5d7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5d4ad6bc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@66fe4ba, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@52adc3ca]
2021-06-12 20:27:05,097 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 20:27:05,113 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting ChatControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 1848 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 20:27:05,114 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 20:27:05,115 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 20:27:05,674 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 20:27:05,743 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 64 ms. Found 10 JPA repository interfaces.
2021-06-12 20:27:06,027 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@563ecf03' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 20:27:06,047 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 20:27:06,218 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 20:27:06,262 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 20:27:06,385 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 20:27:06,516 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 20:27:06,677 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 20:27:06,694 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 20:27:07,517 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 20:27:07,529 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 20:27:08,162 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 20:27:09,014 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@748dfe9, org.springframework.security.web.context.SecurityContextPersistenceFilter@7ffa3a83, org.springframework.security.web.header.HeaderWriterFilter@304c2692, org.springframework.security.web.authentication.logout.LogoutFilter@59d0e86c, com.project.jwt.JwtTokenFilter@7bf78cb4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2ab5d402, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6b8a3cd3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5ff77b47, org.springframework.security.web.session.SessionManagementFilter@1b835037, org.springframework.security.web.access.ExceptionTranslationFilter@13c0a6a6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@239ae21b]
2021-06-12 20:27:09,090 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 20:27:09,090 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 20:27:09,091 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 1 ms
2021-06-12 20:27:09,103 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started ChatControllerTest in 4.253 seconds (JVM running for 5.211)
2021-06-12 20:27:09,105 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 20:27:09,107 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 20:27:09,305 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 20:27:09,385 INFO com.project.service.UserService [Test worker] IN register - user: rertyp successfully registered
2021-06-12 20:27:09,551 INFO com.project.service.ChatService [Test worker] Chat was created
2021-06-12 20:27:09,726 INFO com.project.service.ChatService [Test worker] Chat was got
2021-06-12 20:27:09,752 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Test worker] SQL Error: 23503, SQLState: 23503
2021-06-12 20:27:09,752 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Test worker]   : "FKQOI6PLYG6NSCI3MCKUP5JSSOL: PUBLIC.PROFILES_CHATS FOREIGN KEY(CHAT_ID) REFERENCES PUBLIC.CHAT(ID) (1)"
Referential integrity constraint violation: "FKQOI6PLYG6NSCI3MCKUP5JSSOL: PUBLIC.PROFILES_CHATS FOREIGN KEY(CHAT_ID) REFERENCES PUBLIC.CHAT(ID) (1)"; SQL statement:
delete from chat where id=? [23503-200]
2021-06-12 20:27:09,753 INFO org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl [Test worker] HHH000010: On release of batch it still contained JDBC statements
2021-06-12 20:32:57,612 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.ChatControllerTest], using SpringBootContextLoader
2021-06-12 20:32:57,616 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.ChatControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 20:32:57,713 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 20:32:57,725 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3dea7a4a, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@10b08d82, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3a5a47d4, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@273625bd, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@4960233b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5da87b08, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3524e38e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2329335a, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@6b98b5ff, org.springframework.test.context.event.EventPublishingTestExecutionListener@7576e3bf, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@675c460c, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@d851a5e, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@239c615c, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6135158b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@64dc4387, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@41aef2a8, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1f8ed40]
2021-06-12 20:32:57,906 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 20:32:57,918 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting ChatControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 7648 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 20:32:57,919 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 20:32:57,920 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 20:32:58,431 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 20:32:58,496 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 59 ms. Found 10 JPA repository interfaces.
2021-06-12 20:32:58,745 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@659688f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 20:32:58,758 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 20:32:58,893 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 20:32:58,934 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 20:32:59,025 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 20:32:59,096 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 20:32:59,210 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 20:32:59,222 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 20:32:59,856 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 20:32:59,863 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 20:33:00,424 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 20:33:01,202 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5a811c3c, org.springframework.security.web.context.SecurityContextPersistenceFilter@3714f290, org.springframework.security.web.header.HeaderWriterFilter@74b8b345, org.springframework.security.web.authentication.logout.LogoutFilter@360cefe5, com.project.jwt.JwtTokenFilter@17b4643b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1726aaaf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@31eff969, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@31c5b849, org.springframework.security.web.session.SessionManagementFilter@32c1a2e9, org.springframework.security.web.access.ExceptionTranslationFilter@7c56a6c7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4af33f53]
2021-06-12 20:33:01,267 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 20:33:01,267 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 20:33:01,268 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 1 ms
2021-06-12 20:33:01,282 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started ChatControllerTest in 3.535 seconds (JVM running for 4.301)
2021-06-12 20:33:01,283 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 20:33:01,285 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 20:33:01,446 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 20:33:01,512 INFO com.project.service.UserService [Test worker] IN register - user: rertyp successfully registered
2021-06-12 20:33:01,661 INFO com.project.service.ChatService [Test worker] Chat was created
2021-06-12 20:33:01,772 INFO com.project.service.ChatService [Test worker] Chat was got
2021-06-12 20:33:01,795 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Test worker] SQL Error: 23503, SQLState: 23503
2021-06-12 20:33:01,795 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Test worker]   : "FKQOI6PLYG6NSCI3MCKUP5JSSOL: PUBLIC.PROFILES_CHATS FOREIGN KEY(CHAT_ID) REFERENCES PUBLIC.CHAT(ID) (1)"
Referential integrity constraint violation: "FKQOI6PLYG6NSCI3MCKUP5JSSOL: PUBLIC.PROFILES_CHATS FOREIGN KEY(CHAT_ID) REFERENCES PUBLIC.CHAT(ID) (1)"; SQL statement:
delete from chat where id=? [23503-200]
2021-06-12 20:33:01,796 INFO org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl [Test worker] HHH000010: On release of batch it still contained JDBC statements
2021-06-12 20:40:22,844 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.ChatControllerTest], using SpringBootContextLoader
2021-06-12 20:40:22,849 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.ChatControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 20:40:22,951 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 20:40:22,964 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@919cf06, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@18bb2309, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3270cf89, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@71333c71, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3615bcae, org.springframework.test.context.support.DirtiesContextTestExecutionListener@77f7620e, org.springframework.test.context.transaction.TransactionalTestExecutionListener@43cff7fe, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2b778b42, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@309ca24e, org.springframework.test.context.event.EventPublishingTestExecutionListener@7c374141, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@40fb293e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@57c197f8, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@21ac19c, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@4461b5d7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5d4ad6bc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@66fe4ba, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@52adc3ca]
2021-06-12 20:40:23,158 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 20:40:23,167 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting ChatControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 12304 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 20:40:23,168 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 20:40:23,169 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 20:40:23,714 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 20:40:23,781 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 62 ms. Found 10 JPA repository interfaces.
2021-06-12 20:40:24,055 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@cf19d7c' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 20:40:24,070 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 20:40:24,214 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 20:40:24,255 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 20:40:24,349 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 20:40:24,426 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 20:40:24,552 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 20:40:24,564 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 20:40:25,190 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 20:40:25,196 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 20:40:25,858 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 20:40:26,717 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10fb860c, org.springframework.security.web.context.SecurityContextPersistenceFilter@29204a9b, org.springframework.security.web.header.HeaderWriterFilter@116f9d99, org.springframework.security.web.authentication.logout.LogoutFilter@54b09ed3, com.project.jwt.JwtTokenFilter@4d2139e7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@66df6afc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@304c2692, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@17f2d2a1, org.springframework.security.web.session.SessionManagementFilter@1f826c98, org.springframework.security.web.access.ExceptionTranslationFilter@4989235e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@59ec8846]
2021-06-12 20:40:26,802 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 20:40:26,802 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 20:40:26,803 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 0 ms
2021-06-12 20:40:26,824 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started ChatControllerTest in 3.838 seconds (JVM running for 4.656)
2021-06-12 20:40:26,825 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 20:40:26,827 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 20:40:27,032 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 20:40:27,100 INFO com.project.service.UserService [Test worker] IN register - user: rertyp successfully registered
2021-06-12 20:40:27,305 INFO com.project.service.ChatService [Test worker] Chat was created
2021-06-12 20:40:27,547 INFO com.project.service.ChatService [Test worker] Chat was got
2021-06-12 20:40:54,058 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.project.controller.ChatControllerTest], using SpringBootContextLoader
2021-06-12 20:40:54,066 INFO org.springframework.test.context.support.AbstractContextLoader [Test worker] Could not detect default resource locations for test class [com.project.controller.ChatControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2021-06-12 20:40:54,200 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2021-06-12 20:40:54,214 INFO org.springframework.test.context.support.AbstractTestContextBootstrapper [Test worker] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3dea7a4a, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@10b08d82, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3a5a47d4, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@273625bd, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@4960233b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5da87b08, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3524e38e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2329335a, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@6b98b5ff, org.springframework.test.context.event.EventPublishingTestExecutionListener@7576e3bf, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@675c460c, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@d851a5e, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@239c615c, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6135158b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@64dc4387, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@41aef2a8, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1f8ed40]
2021-06-12 20:40:54,419 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.1.0.Final
2021-06-12 20:40:54,428 INFO org.springframework.boot.StartupInfoLogger [Test worker] Starting ChatControllerTest using Java 15 on DESKTOP-GK0HJTR with PID 4476 (started by ejik_ in D:\Projects\adverts_services\controller)
2021-06-12 20:40:54,429 DEBUG org.springframework.boot.StartupInfoLogger [Test worker] Running with Spring Boot v2.5.0, Spring v5.3.7
2021-06-12 20:40:54,430 INFO org.springframework.boot.SpringApplication [Test worker] No active profile set, falling back to default profiles: default
2021-06-12 20:40:54,933 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-06-12 20:40:54,997 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 58 ms. Found 10 JPA repository interfaces.
2021-06-12 20:40:55,264 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@681c7f2b' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 20:40:55,279 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-06-12 20:40:55,420 INFO org.hibernate.jpa.internal.util.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-06-12 20:40:55,461 INFO org.hibernate.Version [Test worker] HHH000412: Hibernate ORM core version 5.4.30.Final
2021-06-12 20:40:55,553 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [Test worker] HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-06-12 20:40:55,628 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Starting...
2021-06-12 20:40:55,750 INFO com.zaxxer.hikari.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2021-06-12 20:40:55,763 INFO org.hibernate.dialect.Dialect [Test worker] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-06-12 20:40:56,359 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-06-12 20:40:56,365 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-06-12 20:40:56,917 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-06-12 20:40:57,713 INFO org.springframework.security.web.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bfcc353, org.springframework.security.web.context.SecurityContextPersistenceFilter@1c652a99, org.springframework.security.web.header.HeaderWriterFilter@5076eb8d, org.springframework.security.web.authentication.logout.LogoutFilter@4af33f53, com.project.jwt.JwtTokenFilter@2888b65d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1cf9d000, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5dba2cae, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7aa43e6, org.springframework.security.web.session.SessionManagementFilter@131eb3c5, org.springframework.security.web.access.ExceptionTranslationFilter@7e019b76, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1b97122b]
2021-06-12 20:40:57,779 INFO org.springframework.mock.web.MockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2021-06-12 20:40:57,779 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Initializing Servlet ''
2021-06-12 20:40:57,780 INFO org.springframework.web.servlet.FrameworkServlet [Test worker] Completed initialization in 1 ms
2021-06-12 20:40:57,794 INFO org.springframework.boot.StartupInfoLogger [Test worker] Started ChatControllerTest in 3.553 seconds (JVM running for 4.514)
2021-06-12 20:40:57,795 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state LivenessState changed to CORRECT
2021-06-12 20:40:57,796 INFO org.springframework.boot.availability.ApplicationAvailabilityBean [Test worker] Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2021-06-12 20:40:57,969 INFO com.project.service.UserService [Test worker] IN register - user: nyrhog successfully registered
2021-06-12 20:40:58,030 INFO com.project.service.UserService [Test worker] IN register - user: rertyp successfully registered
2021-06-12 20:40:58,189 INFO com.project.service.ChatService [Test worker] Chat was created
2021-06-12 20:40:58,306 INFO com.project.service.ChatService [Test worker] Chat was got
2021-06-12 20:40:58,329 WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Test worker] SQL Error: 23503, SQLState: 23503
2021-06-12 20:40:58,330 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper [Test worker]   : "FKQOI6PLYG6NSCI3MCKUP5JSSOL: PUBLIC.PROFILES_CHATS FOREIGN KEY(CHAT_ID) REFERENCES PUBLIC.CHAT(ID) (1)"
Referential integrity constraint violation: "FKQOI6PLYG6NSCI3MCKUP5JSSOL: PUBLIC.PROFILES_CHATS FOREIGN KEY(CHAT_ID) REFERENCES PUBLIC.CHAT(ID) (1)"; SQL statement:
delete from chat where id=? [23503-200]
2021-06-12 20:40:58,331 INFO org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl [Test worker] HHH000010: On release of batch it still contained JDBC statements
